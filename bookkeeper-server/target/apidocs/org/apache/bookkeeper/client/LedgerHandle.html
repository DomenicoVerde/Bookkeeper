<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="it">
<head>
<!-- Generated by javadoc -->
<title>LedgerHandle (Apache BookKeeper :: Server 4.11.0-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.bookkeeper.client, class: LedgerHandle">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10,"i43":10,"i44":10,"i45":10,"i46":10,"i47":10,"i48":10,"i49":10,"i50":10,"i51":10,"i52":10,"i53":10,"i54":10,"i55":10,"i56":10,"i57":10,"i58":10,"i59":10,"i60":10,"i61":10,"i62":10,"i63":10,"i64":10,"i65":10,"i66":10,"i67":10,"i68":10,"i69":10,"i70":10,"i71":10,"i72":10,"i73":10,"i74":10,"i75":10,"i76":10,"i77":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LedgerHandle.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.bookkeeper.client</a></div>
<h1 title="Class LedgerHandle" class="title">Class LedgerHandle</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">org.apache.bookkeeper.client.LedgerHandle</div>
</div>
<section class="description">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>java.lang.AutoCloseable</code>, <code><a href="api/ForceableHandle.html" title="interface in org.apache.bookkeeper.client.api">ForceableHandle</a></code>, <code><a href="api/Handle.html" title="interface in org.apache.bookkeeper.client.api">Handle</a></code>, <code><a href="api/ReadHandle.html" title="interface in org.apache.bookkeeper.client.api">ReadHandle</a></code>, <code><a href="api/WriteHandle.html" title="interface in org.apache.bookkeeper.client.api">WriteHandle</a></code></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="LedgerHandleAdv.html" title="class in org.apache.bookkeeper.client">LedgerHandleAdv</a></code>, <code><a href="ReadOnlyLedgerHandle.html" title="class in org.apache.bookkeeper.client">ReadOnlyLedgerHandle</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">LedgerHandle</span>
extends java.lang.Object
implements <a href="api/WriteHandle.html" title="interface in org.apache.bookkeeper.client.api">WriteHandle</a></pre>
<div class="block">Ledger handle contains ledger metadata and is used to access the read and
 write operations to a ledger.</div>
</section>
<section class="summary">
<ul class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li class="blockList">
<section class="nestedClassSummary"><a id="nested.class.summary">
<!--   -->
</a>
<h2>Nested Class Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>(package private) static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="LedgerHandle.LastConfirmedCtx.html" title="class in org.apache.bookkeeper.client">LedgerHandle.LastConfirmedCtx</a></span></code></th>
<td class="colLast">
<div class="block">Context objects for synchronous call to read last confirmed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="LedgerHandle.NoopCloseCallback.html" title="class in org.apache.bookkeeper.client">LedgerHandle.NoopCloseCallback</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li class="blockList">
<section class="fieldSummary"><a id="field.summary">
<!--   -->
</a>
<h2>Field Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>(package private) com.google.common.cache.LoadingCache&lt;org.apache.bookkeeper.net.BookieSocketAddress,&#8203;java.lang.Long&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bookieFailureHistory">bookieFailureHistory</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="BookiesHealthInfo.html" title="interface in org.apache.bookkeeper.client">BookiesHealthInfo</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bookiesHealthInfo">bookiesHealthInfo</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#changingEnsemble">changingEnsemble</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="ClientContext.html" title="interface in org.apache.bookkeeper.client">ClientContext</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#clientCtx">clientCtx</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.util.Map&lt;java.lang.Integer,&#8203;org.apache.bookkeeper.net.BookieSocketAddress&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#delayedWriteFailedBookies">delayedWriteFailedBookies</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="DistributionSchedule.html" title="interface in org.apache.bookkeeper.client">DistributionSchedule</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#distributionSchedule">distributionSchedule</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) org.apache.bookkeeper.stats.Counter</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ensembleChangeCounter">ensembleChangeCounter</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="ExplicitLacFlushPolicy.html" title="interface in org.apache.bookkeeper.client">ExplicitLacFlushPolicy</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#explicitLacFlushPolicy">explicitLacFlushPolicy</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#INVALID_ENTRY_ID">INVALID_ENTRY_ID</a></span></code></th>
<td class="colLast">
<div class="block">Invalid entry id.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#INVALID_LEDGER_ID">INVALID_LEDGER_ID</a></span></code></th>
<td class="colLast">
<div class="block">Invalid ledger id.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) org.apache.bookkeeper.stats.Counter</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lacUpdateHitsCounter">lacUpdateHitsCounter</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) org.apache.bookkeeper.stats.Counter</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lacUpdateMissesCounter">lacUpdateMissesCounter</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lastAddConfirmed">lastAddConfirmed</a></span></code></th>
<td class="colLast">
<div class="block">Last entryId which has been confirmed to be written durably to the bookies.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lastAddPushed">lastAddPushed</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ledgerId">ledgerId</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ledgerKey">ledgerKey</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#length">length</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static org.slf4j.Logger</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#LOG">LOG</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) org.apache.bookkeeper.proto.checksum.DigestManager</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#macManager">macManager</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.lang.Object</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#metadataLock">metadataLock</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.util.concurrent.atomic.AtomicInteger</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#numEnsembleChanges">numEnsembleChanges</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.util.Queue&lt;<a href="PendingAddOp.html" title="class in org.apache.bookkeeper.client">PendingAddOp</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#pendingAddOps">pendingAddOps</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#pendingAddsSequenceHead">pendingAddsSequenceHead</a></span></code></th>
<td class="colLast">
<div class="block">Next entryId which is expected to move forward during <a href="#sendAddSuccessCallbacks()"><code>sendAddSuccessCallbacks()</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) com.google.common.util.concurrent.RateLimiter</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#throttler">throttler</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.util.concurrent.ScheduledFuture&lt;?&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#timeoutFuture">timeoutFuture</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.util.EnumSet&lt;<a href="api/WriteFlag.html" title="enum in org.apache.bookkeeper.client.api">WriteFlag</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeFlags">writeFlags</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
<!--   -->
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.apache.bookkeeper.client.ClientContext,long,org.apache.bookkeeper.versioning.Versioned,org.apache.bookkeeper.client.BookKeeper.DigestType,byte%5B%5D,java.util.EnumSet)">LedgerHandle</a></span>&#8203;(<a href="ClientContext.html" title="interface in org.apache.bookkeeper.client">ClientContext</a>&nbsp;clientCtx,
long&nbsp;ledgerId,
org.apache.bookkeeper.versioning.Versioned&lt;<a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a>&gt;&nbsp;versionedMetadata,
<a href="BookKeeper.DigestType.html" title="enum in org.apache.bookkeeper.client">BookKeeper.DigestType</a>&nbsp;digestType,
byte[]&nbsp;password,
java.util.EnumSet&lt;<a href="api/WriteFlag.html" title="enum in org.apache.bookkeeper.client.api">WriteFlag</a>&gt;&nbsp;writeFlags)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addEntry(byte%5B%5D)">addEntry</a></span>&#8203;(byte[]&nbsp;data)</code></th>
<td class="colLast">
<div class="block">Add entry synchronously to an open ledger.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addEntry(byte%5B%5D,int,int)">addEntry</a></span>&#8203;(byte[]&nbsp;data,
int&nbsp;offset,
int&nbsp;length)</code></th>
<td class="colLast">
<div class="block">Add entry synchronously to an open ledger.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addEntry(long,byte%5B%5D)">addEntry</a></span>&#8203;(long&nbsp;entryId,
byte[]&nbsp;data)</code></th>
<td class="colLast">
<div class="block">Add entry synchronously to an open ledger.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addEntry(long,byte%5B%5D,int,int)">addEntry</a></span>&#8203;(long&nbsp;entryId,
byte[]&nbsp;data,
int&nbsp;offset,
int&nbsp;length)</code></th>
<td class="colLast">
<div class="block">Add entry synchronously to an open ledger.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>(package private) long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addToLength(long)">addToLength</a></span>&#8203;(long&nbsp;delta)</code></th>
<td class="colLast">
<div class="block">Add to the length of the ledger in bytes.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>java.util.concurrent.CompletableFuture&lt;java.lang.Long&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#appendAsync(io.netty.buffer.ByteBuf)">appendAsync</a></span>&#8203;(io.netty.buffer.ByteBuf&nbsp;data)</code></th>
<td class="colLast">
<div class="block">Add entry asynchronously to an open ledger.</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncAddEntry(byte%5B%5D,int,int,org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">asyncAddEntry</a></span>&#8203;(byte[]&nbsp;data,
int&nbsp;offset,
int&nbsp;length,
<a href="AsyncCallback.AddCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.AddCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</code></th>
<td class="colLast">
<div class="block">Add entry asynchronously to an open ledger, using an offset and range.</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncAddEntry(byte%5B%5D,org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">asyncAddEntry</a></span>&#8203;(byte[]&nbsp;data,
<a href="AsyncCallback.AddCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.AddCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</code></th>
<td class="colLast">
<div class="block">Add entry asynchronously to an open ledger.</div>
</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncAddEntry(long,byte%5B%5D,int,int,org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">asyncAddEntry</a></span>&#8203;(long&nbsp;entryId,
byte[]&nbsp;data,
int&nbsp;offset,
int&nbsp;length,
<a href="AsyncCallback.AddCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.AddCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</code></th>
<td class="colLast">
<div class="block">Add entry asynchronously to an open ledger, using an offset and range.</div>
</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncAddEntry(long,byte%5B%5D,int,int,org.apache.bookkeeper.client.AsyncCallback.AddCallbackWithLatency,java.lang.Object)">asyncAddEntry</a></span>&#8203;(long&nbsp;entryId,
byte[]&nbsp;data,
int&nbsp;offset,
int&nbsp;length,
<a href="AsyncCallback.AddCallbackWithLatency.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.AddCallbackWithLatency</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</code></th>
<td class="colLast">
<div class="block">Add entry asynchronously to an open ledger, using an offset and range.</div>
</td>
</tr>
<tr class="altColor" id="i10">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncAddEntry(long,byte%5B%5D,org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">asyncAddEntry</a></span>&#8203;(long&nbsp;entryId,
byte[]&nbsp;data,
<a href="AsyncCallback.AddCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.AddCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</code></th>
<td class="colLast">
<div class="block">Add entry asynchronously to an open ledger.</div>
</td>
</tr>
<tr class="rowColor" id="i11">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncAddEntry(long,io.netty.buffer.ByteBuf,org.apache.bookkeeper.client.AsyncCallback.AddCallbackWithLatency,java.lang.Object)">asyncAddEntry</a></span>&#8203;(long&nbsp;entryId,
io.netty.buffer.ByteBuf&nbsp;data,
<a href="AsyncCallback.AddCallbackWithLatency.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.AddCallbackWithLatency</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</code></th>
<td class="colLast">
<div class="block">Add entry asynchronously to an open ledger, using an offset and range.</div>
</td>
</tr>
<tr class="altColor" id="i12">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncAddEntry(io.netty.buffer.ByteBuf,org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">asyncAddEntry</a></span>&#8203;(io.netty.buffer.ByteBuf&nbsp;data,
<a href="AsyncCallback.AddCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.AddCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i13">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncClose(org.apache.bookkeeper.client.AsyncCallback.CloseCallback,java.lang.Object)">asyncClose</a></span>&#8203;(<a href="AsyncCallback.CloseCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.CloseCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</code></th>
<td class="colLast">
<div class="block">Asynchronous close, any adds in flight will return errors.</div>
</td>
</tr>
<tr class="altColor" id="i14">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncCloseInternal(org.apache.bookkeeper.client.AsyncCallback.CloseCallback,java.lang.Object,int)">asyncCloseInternal</a></span>&#8203;(<a href="AsyncCallback.CloseCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.CloseCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx,
int&nbsp;rc)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i15">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncReadEntries(long,long,org.apache.bookkeeper.client.AsyncCallback.ReadCallback,java.lang.Object)">asyncReadEntries</a></span>&#8203;(long&nbsp;firstEntry,
long&nbsp;lastEntry,
<a href="AsyncCallback.ReadCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.ReadCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</code></th>
<td class="colLast">
<div class="block">Read a sequence of entries asynchronously.</div>
</td>
</tr>
<tr class="altColor" id="i16">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncReadEntriesInternal(long,long,org.apache.bookkeeper.client.AsyncCallback.ReadCallback,java.lang.Object,boolean)">asyncReadEntriesInternal</a></span>&#8203;(long&nbsp;firstEntry,
long&nbsp;lastEntry,
<a href="AsyncCallback.ReadCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.ReadCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx,
boolean&nbsp;isRecoveryRead)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i17">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncReadExplicitLastConfirmed(org.apache.bookkeeper.client.AsyncCallback.ReadLastConfirmedCallback,java.lang.Object)">asyncReadExplicitLastConfirmed</a></span>&#8203;(<a href="AsyncCallback.ReadLastConfirmedCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.ReadLastConfirmedCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</code></th>
<td class="colLast">
<div class="block">Obtains asynchronously the explicit last add confirmed from a quorum of
 bookies.</div>
</td>
</tr>
<tr class="altColor" id="i18">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncReadLastConfirmed(org.apache.bookkeeper.client.AsyncCallback.ReadLastConfirmedCallback,java.lang.Object)">asyncReadLastConfirmed</a></span>&#8203;(<a href="AsyncCallback.ReadLastConfirmedCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.ReadLastConfirmedCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</code></th>
<td class="colLast">
<div class="block">Obtains asynchronously the last confirmed write from a quorum of bookies.</div>
</td>
</tr>
<tr class="rowColor" id="i19">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncReadLastConfirmedAndEntry(long,long,boolean,org.apache.bookkeeper.client.AsyncCallback.ReadLastConfirmedAndEntryCallback,java.lang.Object)">asyncReadLastConfirmedAndEntry</a></span>&#8203;(long&nbsp;entryId,
long&nbsp;timeOutInMillis,
boolean&nbsp;parallel,
<a href="AsyncCallback.ReadLastConfirmedAndEntryCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.ReadLastConfirmedAndEntryCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</code></th>
<td class="colLast">
<div class="block">Asynchronous read next entry and the latest last add confirmed.</div>
</td>
</tr>
<tr class="altColor" id="i20">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncReadLastEntry(org.apache.bookkeeper.client.AsyncCallback.ReadCallback,java.lang.Object)">asyncReadLastEntry</a></span>&#8203;(<a href="AsyncCallback.ReadCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.ReadCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i21">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncReadUnconfirmedEntries(long,long,org.apache.bookkeeper.client.AsyncCallback.ReadCallback,java.lang.Object)">asyncReadUnconfirmedEntries</a></span>&#8203;(long&nbsp;firstEntry,
long&nbsp;lastEntry,
<a href="AsyncCallback.ReadCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.ReadCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</code></th>
<td class="colLast">
<div class="block">Read a sequence of entries asynchronously, allowing to read after the LastAddConfirmed range.</div>
</td>
</tr>
<tr class="altColor" id="i22">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncRecoveryAddEntry(byte%5B%5D,int,int,org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">asyncRecoveryAddEntry</a></span>&#8203;(byte[]&nbsp;data,
int&nbsp;offset,
int&nbsp;length,
<a href="AsyncCallback.AddCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.AddCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</code></th>
<td class="colLast">
<div class="block">Make a recovery add entry request.</div>
</td>
</tr>
<tr class="rowColor" id="i23">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncTryReadLastConfirmed(org.apache.bookkeeper.client.AsyncCallback.ReadLastConfirmedCallback,java.lang.Object)">asyncTryReadLastConfirmed</a></span>&#8203;(<a href="AsyncCallback.ReadLastConfirmedCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.ReadLastConfirmedCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</code></th>
<td class="colLast">
<div class="block">Obtains asynchronously the last confirmed write from a quorum of bookies.</div>
</td>
</tr>
<tr class="altColor" id="i24">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#close()">close</a></span>()</code></th>
<td class="colLast">
<div class="block">Synchronous close the write handle, any adds in flight will return errors.</div>
</td>
</tr>
<tr class="rowColor" id="i25">
<td class="colFirst"><code>java.util.concurrent.CompletableFuture&lt;java.lang.Void&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#closeAsync()">closeAsync</a></span>()</code></th>
<td class="colLast">
<div class="block">Asynchronous close the write handle, any adds in flight will return errors.</div>
</td>
</tr>
<tr class="altColor" id="i26">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doAsyncAddEntry(org.apache.bookkeeper.client.PendingAddOp)">doAsyncAddEntry</a></span>&#8203;(<a href="PendingAddOp.html" title="class in org.apache.bookkeeper.client">PendingAddOp</a>&nbsp;op)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i27">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doAsyncCloseInternal(org.apache.bookkeeper.client.AsyncCallback.CloseCallback,java.lang.Object,int)">doAsyncCloseInternal</a></span>&#8203;(<a href="AsyncCallback.CloseCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.CloseCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx,
int&nbsp;rc)</code></th>
<td class="colLast">
<div class="block">Same as public version of asyncClose except that this one takes an
 additional parameter which is the return code to hand to all the pending
 add ops.</div>
</td>
</tr>
<tr class="altColor" id="i28">
<td class="colFirst"><code>(package private) java.util.List&lt;<a href="PendingAddOp.html" title="class in org.apache.bookkeeper.client">PendingAddOp</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#drainPendingAddsAndAdjustLength()">drainPendingAddsAndAdjustLength</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i29">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ensembleChangeLoop(java.util.List,java.util.Map)">ensembleChangeLoop</a></span>&#8203;(java.util.List&lt;org.apache.bookkeeper.net.BookieSocketAddress&gt;&nbsp;origEnsemble,
java.util.Map&lt;java.lang.Integer,&#8203;org.apache.bookkeeper.net.BookieSocketAddress&gt;&nbsp;failedBookies)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i30">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#errorOutPendingAdds(int)">errorOutPendingAdds</a></span>&#8203;(int&nbsp;rc)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i31">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#errorOutPendingAdds(int,java.util.List)">errorOutPendingAdds</a></span>&#8203;(int&nbsp;rc,
java.util.List&lt;<a href="PendingAddOp.html" title="class in org.apache.bookkeeper.client">PendingAddOp</a>&gt;&nbsp;ops)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i32">
<td class="colFirst"><code>java.util.concurrent.CompletableFuture&lt;java.lang.Void&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#force()">force</a></span>()</code></th>
<td class="colLast">
<div class="block">Enforce durability to the entries written by this handle.</div>
</td>
</tr>
<tr class="rowColor" id="i33">
<td class="colFirst"><code>(package private) <a href="BookiesHealthInfo.html" title="interface in org.apache.bookkeeper.client">BookiesHealthInfo</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getBookiesHealthInfo()">getBookiesHealthInfo</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the health info for bookies for this ledger.</div>
</td>
</tr>
<tr class="altColor" id="i34">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCtime()">getCtime</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the ledger creation time.</div>
</td>
</tr>
<tr class="rowColor" id="i35">
<td class="colFirst"><code>(package private) java.util.List&lt;org.apache.bookkeeper.net.BookieSocketAddress&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCurrentEnsemble()">getCurrentEnsemble</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the current ensemble from the ensemble list.</div>
</td>
</tr>
<tr class="altColor" id="i36">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,&#8203;byte[]&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCustomMetadata()">getCustomMetadata</a></span>()</code></th>
<td class="colLast">
<div class="block">Get this ledger's customMetadata map.</div>
</td>
</tr>
<tr class="rowColor" id="i37">
<td class="colFirst"><code>(package private) org.apache.bookkeeper.proto.checksum.DigestManager</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDigestManager()">getDigestManager</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the DigestManager.</div>
</td>
</tr>
<tr class="altColor" id="i38">
<td class="colFirst"><code>(package private) <a href="DistributionSchedule.html" title="interface in org.apache.bookkeeper.client">DistributionSchedule</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDistributionSchedule()">getDistributionSchedule</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the Distribution Schedule.</div>
</td>
</tr>
<tr class="rowColor" id="i39">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getId()">getId</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the id of the current ledger.</div>
</td>
</tr>
<tr class="altColor" id="i40">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLastAddConfirmed()">getLastAddConfirmed</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the last confirmed entry id on this ledger.</div>
</td>
</tr>
<tr class="rowColor" id="i41">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLastAddPushed()">getLastAddPushed</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the entry id of the last entry that has been enqueued for addition (but
 may not have possibly been persisted to the ledger).</div>
</td>
</tr>
<tr class="altColor" id="i42">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLedgerKey()">getLedgerKey</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the Ledger's key/password.</div>
</td>
</tr>
<tr class="rowColor" id="i43">
<td class="colFirst"><code><a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLedgerMetadata()">getLedgerMetadata</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the metadata of this ledger.</div>
</td>
</tr>
<tr class="altColor" id="i44">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLength()">getLength</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the length of the ledger in bytes.</div>
</td>
</tr>
<tr class="rowColor" id="i45">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getNumBookies()">getNumBookies</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the count of unique bookies that own part of this ledger
 by going over all the fragments of the ledger.</div>
</td>
</tr>
<tr class="altColor" id="i46">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getNumFragments()">getNumFragments</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the number of fragments that makeup this ledger.</div>
</td>
</tr>
<tr class="rowColor" id="i47">
<td class="colFirst"><code>(package private) org.apache.bookkeeper.versioning.Versioned&lt;<a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getVersionedLedgerMetadata()">getVersionedLedgerMetadata</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i48">
<td class="colFirst"><code>java.util.EnumSet&lt;<a href="api/WriteFlag.html" title="enum in org.apache.bookkeeper.client.api">WriteFlag</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getWriteFlags()">getWriteFlags</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i49">
<td class="colFirst"><code>(package private) <a href="DistributionSchedule.WriteSet.html" title="interface in org.apache.bookkeeper.client">DistributionSchedule.WriteSet</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getWriteSetForReadOperation(long)">getWriteSetForReadOperation</a></span>&#8203;(long&nbsp;entryId)</code></th>
<td class="colLast">
<div class="block">Return a <a href="DistributionSchedule.WriteSet.html" title="interface in org.apache.bookkeeper.client"><code>DistributionSchedule.WriteSet</code></a> suitable for reading a particular entry.</div>
</td>
</tr>
<tr class="altColor" id="i50">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleBookieFailure(java.util.Map)">handleBookieFailure</a></span>&#8203;(java.util.Map&lt;java.lang.Integer,&#8203;org.apache.bookkeeper.net.BookieSocketAddress&gt;&nbsp;failedBookies)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i51">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleUnrecoverableErrorDuringAdd(int)">handleUnrecoverableErrorDuringAdd</a></span>&#8203;(int&nbsp;rc)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i52">
<td class="colFirst"><code>(package private) boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#hasDelayedWriteFailedBookies()">hasDelayedWriteFailedBookies</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i53">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initializeWriteHandleState()">initializeWriteHandleState</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i54">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isClosed()">isClosed</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns whether the ledger is sealed or not.</div>
</td>
</tr>
<tr class="rowColor" id="i55">
<td class="colFirst"><code>(package private) boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isHandleWritable()">isHandleWritable</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i56">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#maybeHandleDelayedWriteBookieFailure()">maybeHandleDelayedWriteBookieFailure</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i57">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#notifyWriteFailed(int,org.apache.bookkeeper.net.BookieSocketAddress)">notifyWriteFailed</a></span>&#8203;(int&nbsp;index,
org.apache.bookkeeper.net.BookieSocketAddress&nbsp;addr)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i58">
<td class="colFirst"><code>java.util.concurrent.CompletableFuture&lt;<a href="api/LedgerEntries.html" title="interface in org.apache.bookkeeper.client.api">LedgerEntries</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readAsync(long,long)">readAsync</a></span>&#8203;(long&nbsp;firstEntry,
long&nbsp;lastEntry)</code></th>
<td class="colLast">
<div class="block">Read a sequence of entries asynchronously.</div>
</td>
</tr>
<tr class="rowColor" id="i59">
<td class="colFirst"><code>java.util.Enumeration&lt;<a href="LedgerEntry.html" title="class in org.apache.bookkeeper.client">LedgerEntry</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readEntries(long,long)">readEntries</a></span>&#8203;(long&nbsp;firstEntry,
long&nbsp;lastEntry)</code></th>
<td class="colLast">
<div class="block">Read a sequence of entries synchronously.</div>
</td>
</tr>
<tr class="altColor" id="i60">
<td class="colFirst"><code>(package private) java.util.concurrent.CompletableFuture&lt;<a href="api/LedgerEntries.html" title="interface in org.apache.bookkeeper.client.api">LedgerEntries</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readEntriesInternalAsync(long,long,boolean)">readEntriesInternalAsync</a></span>&#8203;(long&nbsp;firstEntry,
long&nbsp;lastEntry,
boolean&nbsp;isRecoveryRead)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i61">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readExplicitLastConfirmed()">readExplicitLastConfirmed</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i62">
<td class="colFirst"><code>java.util.concurrent.CompletableFuture&lt;<a href="api/LastConfirmedAndEntry.html" title="interface in org.apache.bookkeeper.client.api">LastConfirmedAndEntry</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readLastAddConfirmedAndEntryAsync(long,long,boolean)">readLastAddConfirmedAndEntryAsync</a></span>&#8203;(long&nbsp;entryId,
long&nbsp;timeOutInMillis,
boolean&nbsp;parallel)</code></th>
<td class="colLast">
<div class="block">Asynchronous read specific entry and the latest last add confirmed.</div>
</td>
</tr>
<tr class="rowColor" id="i63">
<td class="colFirst"><code>java.util.concurrent.CompletableFuture&lt;java.lang.Long&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readLastAddConfirmedAsync()">readLastAddConfirmedAsync</a></span>()</code></th>
<td class="colLast">
<div class="block">Obtains asynchronously the last confirmed write from a quorum of bookies.</div>
</td>
</tr>
<tr class="altColor" id="i64">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readLastConfirmed()">readLastConfirmed</a></span>()</code></th>
<td class="colLast">
<div class="block">Obtains synchronously the last confirmed write from a quorum of bookies.</div>
</td>
</tr>
<tr class="rowColor" id="i65">
<td class="colFirst"><code><a href="LedgerEntry.html" title="class in org.apache.bookkeeper.client">LedgerEntry</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readLastEntry()">readLastEntry</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i66">
<td class="colFirst"><code>java.util.concurrent.CompletableFuture&lt;<a href="api/LedgerEntries.html" title="interface in org.apache.bookkeeper.client.api">LedgerEntries</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readUnconfirmedAsync(long,long)">readUnconfirmedAsync</a></span>&#8203;(long&nbsp;firstEntry,
long&nbsp;lastEntry)</code></th>
<td class="colLast">
<div class="block">Read a sequence of entries asynchronously, allowing to read after the LastAddConfirmed range.</div>
</td>
</tr>
<tr class="rowColor" id="i67">
<td class="colFirst"><code>java.util.Enumeration&lt;<a href="LedgerEntry.html" title="class in org.apache.bookkeeper.client">LedgerEntry</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readUnconfirmedEntries(long,long)">readUnconfirmedEntries</a></span>&#8203;(long&nbsp;firstEntry,
long&nbsp;lastEntry)</code></th>
<td class="colLast">
<div class="block">Read a sequence of entries synchronously, allowing to read after the LastAddConfirmed range.<br>
 This is the same of
 <a href="#asyncReadUnconfirmedEntries(long,long,org.apache.bookkeeper.client.AsyncCallback.ReadCallback,java.lang.Object)"><code>asyncReadUnconfirmedEntries(long, long, ReadCallback, Object)</code></a></div>
</td>
</tr>
<tr class="altColor" id="i68">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#recordReadErrorOnBookie(int)">recordReadErrorOnBookie</a></span>&#8203;(int&nbsp;bookieIndex)</code></th>
<td class="colLast">
<div class="block">Notify the LedgerHandle that a read operation was failed on a particular bookie.</div>
</td>
</tr>
<tr class="rowColor" id="i69">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#registerOperationFailureOnBookie(org.apache.bookkeeper.net.BookieSocketAddress,long)">registerOperationFailureOnBookie</a></span>&#8203;(org.apache.bookkeeper.net.BookieSocketAddress&nbsp;bookie,
long&nbsp;entryId)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i70">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendAddSuccessCallbacks()">sendAddSuccessCallbacks</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i71">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setLastAddConfirmed(long)">setLastAddConfirmed</a></span>&#8203;(long&nbsp;lac)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i72">
<td class="colFirst"><code>(package private) boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setLedgerMetadata(org.apache.bookkeeper.versioning.Versioned,org.apache.bookkeeper.versioning.Versioned)">setLedgerMetadata</a></span>&#8203;(org.apache.bookkeeper.versioning.Versioned&lt;<a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a>&gt;&nbsp;expected,
org.apache.bookkeeper.versioning.Versioned&lt;<a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a>&gt;&nbsp;newMetadata)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i73">
<td class="colFirst"><code>java.util.concurrent.CompletableFuture&lt;java.lang.Long&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tryReadLastAddConfirmedAsync()">tryReadLastAddConfirmedAsync</a></span>()</code></th>
<td class="colLast">
<div class="block">Obtains asynchronously the last confirmed write from a quorum of bookies
 but it doesn't wait all the responses from the quorum.</div>
</td>
</tr>
<tr class="altColor" id="i74">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tryReadLastConfirmed()">tryReadLastConfirmed</a></span>()</code></th>
<td class="colLast">
<div class="block">Obtains synchronously the last confirmed write from a quorum of bookies.</div>
</td>
</tr>
<tr class="rowColor" id="i75">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unsetSuccessAndSendWriteRequest(java.util.List,java.util.Set)">unsetSuccessAndSendWriteRequest</a></span>&#8203;(java.util.List&lt;org.apache.bookkeeper.net.BookieSocketAddress&gt;&nbsp;ensemble,
java.util.Set&lt;java.lang.Integer&gt;&nbsp;bookies)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i76">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateLastConfirmed(long,long)">updateLastConfirmed</a></span>&#8203;(long&nbsp;lac,
long&nbsp;len)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i77">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#waitForWritable(org.apache.bookkeeper.client.DistributionSchedule.WriteSet,long,int,long)">waitForWritable</a></span>&#8203;(<a href="DistributionSchedule.WriteSet.html" title="interface in org.apache.bookkeeper.client">DistributionSchedule.WriteSet</a>&nbsp;writeSet,
long&nbsp;key,
int&nbsp;allowedNonWritableCount,
long&nbsp;durationMs)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
<div class="inheritedList">
<h3>Methods inherited from interface&nbsp;org.apache.bookkeeper.client.api.<a href="api/ReadHandle.html" title="interface in org.apache.bookkeeper.client.api">ReadHandle</a></h3>
<a id="methods.inherited.from.class.org.apache.bookkeeper.client.api.ReadHandle">
<!--   -->
</a><code><a href="api/ReadHandle.html#read(long,long)">read</a>, <a href="api/ReadHandle.html#readLastAddConfirmed()">readLastAddConfirmed</a>, <a href="api/ReadHandle.html#readLastAddConfirmedAndEntry(long,long,boolean)">readLastAddConfirmedAndEntry</a>, <a href="api/ReadHandle.html#readUnconfirmed(long,long)">readUnconfirmed</a>, <a href="api/ReadHandle.html#tryReadLastAddConfirmed()">tryReadLastAddConfirmed</a></code></div>
<div class="inheritedList">
<h3>Methods inherited from interface&nbsp;org.apache.bookkeeper.client.api.<a href="api/WriteHandle.html" title="interface in org.apache.bookkeeper.client.api">WriteHandle</a></h3>
<a id="methods.inherited.from.class.org.apache.bookkeeper.client.api.WriteHandle">
<!--   -->
</a><code><a href="api/WriteHandle.html#append(byte%5B%5D)">append</a>, <a href="api/WriteHandle.html#append(byte%5B%5D,int,int)">append</a>, <a href="api/WriteHandle.html#append(io.netty.buffer.ByteBuf)">append</a>, <a href="api/WriteHandle.html#append(java.nio.ByteBuffer)">append</a>, <a href="api/WriteHandle.html#appendAsync(byte%5B%5D)">appendAsync</a>, <a href="api/WriteHandle.html#appendAsync(byte%5B%5D,int,int)">appendAsync</a>, <a href="api/WriteHandle.html#appendAsync(java.nio.ByteBuffer)">appendAsync</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<li class="blockList">
<section class="fieldDetails"><a id="field.detail">
<!--   -->
</a>
<h2>Field Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="LOG">LOG</a></h3>
<div class="memberSignature"><span class="modifiers">static final</span>&nbsp;<span class="returnType">org.slf4j.Logger</span>&nbsp;<span class="memberName">LOG</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="clientCtx">clientCtx</a></h3>
<div class="memberSignature"><span class="modifiers">final</span>&nbsp;<span class="returnType"><a href="ClientContext.html" title="interface in org.apache.bookkeeper.client">ClientContext</a></span>&nbsp;<span class="memberName">clientCtx</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="ledgerKey">ledgerKey</a></h3>
<div class="memberSignature"><span class="modifiers">final</span>&nbsp;<span class="returnType">byte[]</span>&nbsp;<span class="memberName">ledgerKey</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="ledgerId">ledgerId</a></h3>
<div class="memberSignature"><span class="modifiers">final</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">ledgerId</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="lastAddPushed">lastAddPushed</a></h3>
<div class="memberSignature"><span class="returnType">long</span>&nbsp;<span class="memberName">lastAddPushed</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="lastAddConfirmed">lastAddConfirmed</a></h3>
<div class="memberSignature"><span class="modifiers">volatile</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">lastAddConfirmed</span></div>
<div class="block">Last entryId which has been confirmed to be written durably to the bookies.
 This value is used by readers, the the LAC protocol</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="pendingAddsSequenceHead">pendingAddsSequenceHead</a></h3>
<div class="memberSignature"><span class="modifiers">volatile</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">pendingAddsSequenceHead</span></div>
<div class="block">Next entryId which is expected to move forward during <a href="#sendAddSuccessCallbacks()"><code>sendAddSuccessCallbacks()</code></a>. This is important
 in order to have an ordered sequence of addEntry ackknowledged to the writer</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="length">length</a></h3>
<div class="memberSignature"><span class="returnType">long</span>&nbsp;<span class="memberName">length</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="macManager">macManager</a></h3>
<div class="memberSignature"><span class="modifiers">final</span>&nbsp;<span class="returnType">org.apache.bookkeeper.proto.checksum.DigestManager</span>&nbsp;<span class="memberName">macManager</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="distributionSchedule">distributionSchedule</a></h3>
<div class="memberSignature"><span class="modifiers">final</span>&nbsp;<span class="returnType"><a href="DistributionSchedule.html" title="interface in org.apache.bookkeeper.client">DistributionSchedule</a></span>&nbsp;<span class="memberName">distributionSchedule</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="throttler">throttler</a></h3>
<div class="memberSignature"><span class="modifiers">final</span>&nbsp;<span class="returnType">com.google.common.util.concurrent.RateLimiter</span>&nbsp;<span class="memberName">throttler</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="bookieFailureHistory">bookieFailureHistory</a></h3>
<div class="memberSignature"><span class="modifiers">final</span>&nbsp;<span class="returnType">com.google.common.cache.LoadingCache&lt;org.apache.bookkeeper.net.BookieSocketAddress,&#8203;java.lang.Long&gt;</span>&nbsp;<span class="memberName">bookieFailureHistory</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="bookiesHealthInfo">bookiesHealthInfo</a></h3>
<div class="memberSignature"><span class="modifiers">final</span>&nbsp;<span class="returnType"><a href="BookiesHealthInfo.html" title="interface in org.apache.bookkeeper.client">BookiesHealthInfo</a></span>&nbsp;<span class="memberName">bookiesHealthInfo</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="writeFlags">writeFlags</a></h3>
<div class="memberSignature"><span class="modifiers">final</span>&nbsp;<span class="returnType">java.util.EnumSet&lt;<a href="api/WriteFlag.html" title="enum in org.apache.bookkeeper.client.api">WriteFlag</a>&gt;</span>&nbsp;<span class="memberName">writeFlags</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="timeoutFuture">timeoutFuture</a></h3>
<div class="memberSignature"><span class="returnType">java.util.concurrent.ScheduledFuture&lt;?&gt;</span>&nbsp;<span class="memberName">timeoutFuture</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="delayedWriteFailedBookies">delayedWriteFailedBookies</a></h3>
<div class="memberSignature"><span class="modifiers">final</span>&nbsp;<span class="returnType">java.util.Map&lt;java.lang.Integer,&#8203;org.apache.bookkeeper.net.BookieSocketAddress&gt;</span>&nbsp;<span class="memberName">delayedWriteFailedBookies</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="INVALID_ENTRY_ID">INVALID_ENTRY_ID</a></h3>
<div class="memberSignature"><span class="modifiers">public static final</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">INVALID_ENTRY_ID</span></div>
<div class="block">Invalid entry id. This value is returned from methods which
 should return an entry id but there is no valid entry available.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.bookkeeper.client.LedgerHandle.INVALID_ENTRY_ID">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="INVALID_LEDGER_ID">INVALID_LEDGER_ID</a></h3>
<div class="memberSignature"><span class="modifiers">public static final</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">INVALID_LEDGER_ID</span></div>
<div class="block">Invalid ledger id. Ledger IDs must be greater than or equal to 0.
 Large negative used to make it easy to spot in logs if erroneously used.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.bookkeeper.client.LedgerHandle.INVALID_LEDGER_ID">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="metadataLock">metadataLock</a></h3>
<div class="memberSignature"><span class="modifiers">final</span>&nbsp;<span class="returnType">java.lang.Object</span>&nbsp;<span class="memberName">metadataLock</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="changingEnsemble">changingEnsemble</a></h3>
<div class="memberSignature"><span class="returnType">boolean</span>&nbsp;<span class="memberName">changingEnsemble</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="numEnsembleChanges">numEnsembleChanges</a></h3>
<div class="memberSignature"><span class="modifiers">final</span>&nbsp;<span class="returnType">java.util.concurrent.atomic.AtomicInteger</span>&nbsp;<span class="memberName">numEnsembleChanges</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="pendingAddOps">pendingAddOps</a></h3>
<div class="memberSignature"><span class="returnType">java.util.Queue&lt;<a href="PendingAddOp.html" title="class in org.apache.bookkeeper.client">PendingAddOp</a>&gt;</span>&nbsp;<span class="memberName">pendingAddOps</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="explicitLacFlushPolicy">explicitLacFlushPolicy</a></h3>
<div class="memberSignature"><span class="returnType"><a href="ExplicitLacFlushPolicy.html" title="interface in org.apache.bookkeeper.client">ExplicitLacFlushPolicy</a></span>&nbsp;<span class="memberName">explicitLacFlushPolicy</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="ensembleChangeCounter">ensembleChangeCounter</a></h3>
<div class="memberSignature"><span class="modifiers">final</span>&nbsp;<span class="returnType">org.apache.bookkeeper.stats.Counter</span>&nbsp;<span class="memberName">ensembleChangeCounter</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="lacUpdateHitsCounter">lacUpdateHitsCounter</a></h3>
<div class="memberSignature"><span class="modifiers">final</span>&nbsp;<span class="returnType">org.apache.bookkeeper.stats.Counter</span>&nbsp;<span class="memberName">lacUpdateHitsCounter</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="lacUpdateMissesCounter">lacUpdateMissesCounter</a></h3>
<div class="memberSignature"><span class="modifiers">final</span>&nbsp;<span class="returnType">org.apache.bookkeeper.stats.Counter</span>&nbsp;<span class="memberName">lacUpdateMissesCounter</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
<!--   -->
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(org.apache.bookkeeper.client.ClientContext,long,org.apache.bookkeeper.versioning.Versioned,org.apache.bookkeeper.client.BookKeeper.DigestType,byte[],java.util.EnumSet)">LedgerHandle</a></h3>
<div class="memberSignature"><span class="memberName">LedgerHandle</span>&#8203;(<span class="arguments"><a href="ClientContext.html" title="interface in org.apache.bookkeeper.client">ClientContext</a>&nbsp;clientCtx,
long&nbsp;ledgerId,
org.apache.bookkeeper.versioning.Versioned&lt;<a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a>&gt;&nbsp;versionedMetadata,
<a href="BookKeeper.DigestType.html" title="enum in org.apache.bookkeeper.client">BookKeeper.DigestType</a>&nbsp;digestType,
byte[]&nbsp;password,
java.util.EnumSet&lt;<a href="api/WriteFlag.html" title="enum in org.apache.bookkeeper.client.api">WriteFlag</a>&gt;&nbsp;writeFlags)</span>
      throws <span class="exceptions">java.security.GeneralSecurityException,
java.lang.NumberFormatException</span></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.security.GeneralSecurityException</code></dd>
<dd><code>java.lang.NumberFormatException</code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="recordReadErrorOnBookie(int)">recordReadErrorOnBookie</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">recordReadErrorOnBookie</span>&#8203;(<span class="arguments">int&nbsp;bookieIndex)</span></div>
<div class="block">Notify the LedgerHandle that a read operation was failed on a particular bookie.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="initializeWriteHandleState()">initializeWriteHandleState</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">initializeWriteHandleState</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getId()">getId</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">getId</span>()</div>
<div class="block">Get the id of the current ledger.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="api/Handle.html#getId()">getId</a></code>&nbsp;in interface&nbsp;<code><a href="api/Handle.html" title="interface in org.apache.bookkeeper.client.api">Handle</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the id of the ledger</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getWriteFlags()">getWriteFlags</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.util.EnumSet&lt;<a href="api/WriteFlag.html" title="enum in org.apache.bookkeeper.client.api">WriteFlag</a>&gt;</span>&nbsp;<span class="memberName">getWriteFlags</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getLastAddConfirmed()">getLastAddConfirmed</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">getLastAddConfirmed</span>()</div>
<div class="block">Get the last confirmed entry id on this ledger. It reads the local state of the ledger handle,
 which is different from the <a href="api/ReadHandle.html#readLastAddConfirmed()"><code>ReadHandle.readLastAddConfirmed()</code></a> call.

 <p>In the case the ledger is not closed and the client is a reader, it is necessary to
 call <a href="api/ReadHandle.html#readLastAddConfirmed()"><code>ReadHandle.readLastAddConfirmed()</code></a> to obtain a fresh value of last add confirmed entry id.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="api/ReadHandle.html#getLastAddConfirmed()">getLastAddConfirmed</a></code>&nbsp;in interface&nbsp;<code><a href="api/ReadHandle.html" title="interface in org.apache.bookkeeper.client.api">ReadHandle</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the local value for LastAddConfirmed or -1L if no entry has been confirmed.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="api/ReadHandle.html#readLastAddConfirmed()"><code>ReadHandle.readLastAddConfirmed()</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setLastAddConfirmed(long)">setLastAddConfirmed</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">setLastAddConfirmed</span>&#8203;(<span class="arguments">long&nbsp;lac)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getLastAddPushed()">getLastAddPushed</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">getLastAddPushed</span>()</div>
<div class="block">Get the entry id of the last entry that has been enqueued for addition (but
 may not have possibly been persisted to the ledger).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="api/WriteHandle.html#getLastAddPushed()">getLastAddPushed</a></code>&nbsp;in interface&nbsp;<code><a href="api/WriteHandle.html" title="interface in org.apache.bookkeeper.client.api">WriteHandle</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the entry id of the last entry pushed or -1 if no entry has been pushed</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getLedgerKey()">getLedgerKey</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">byte[]</span>&nbsp;<span class="memberName">getLedgerKey</span>()</div>
<div class="block">Get the Ledger's key/password.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>byte array for the ledger's key/password.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getLedgerMetadata()">getLedgerMetadata</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a></span>&nbsp;<span class="memberName">getLedgerMetadata</span>()</div>
<div class="block">Returns the metadata of this ledger.

 <p>This call only retrieves the metadata cached locally. If there is any metadata updated, the read
 handle will receive the metadata updates and update the metadata locally. The metadata notification
 can be deplayed, so it is possible you can receive a stale copy of ledger metadata from this call.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="api/Handle.html#getLedgerMetadata()">getLedgerMetadata</a></code>&nbsp;in interface&nbsp;<code><a href="api/Handle.html" title="interface in org.apache.bookkeeper.client.api">Handle</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the metadata of this ledger.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getVersionedLedgerMetadata()">getVersionedLedgerMetadata</a></h3>
<div class="memberSignature"><span class="returnType">org.apache.bookkeeper.versioning.Versioned&lt;<a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a>&gt;</span>&nbsp;<span class="memberName">getVersionedLedgerMetadata</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setLedgerMetadata(org.apache.bookkeeper.versioning.Versioned,org.apache.bookkeeper.versioning.Versioned)">setLedgerMetadata</a></h3>
<div class="memberSignature"><span class="returnType">boolean</span>&nbsp;<span class="memberName">setLedgerMetadata</span>&#8203;(<span class="arguments">org.apache.bookkeeper.versioning.Versioned&lt;<a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a>&gt;&nbsp;expected,
org.apache.bookkeeper.versioning.Versioned&lt;<a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a>&gt;&nbsp;newMetadata)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getCustomMetadata()">getCustomMetadata</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.util.Map&lt;java.lang.String,&#8203;byte[]&gt;</span>&nbsp;<span class="memberName">getCustomMetadata</span>()</div>
<div class="block">Get this ledger's customMetadata map.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>map containing user provided customMetadata.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getNumFragments()">getNumFragments</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">getNumFragments</span>()</div>
<div class="block">Get the number of fragments that makeup this ledger.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the count of fragments</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getNumBookies()">getNumBookies</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">getNumBookies</span>()</div>
<div class="block">Get the count of unique bookies that own part of this ledger
 by going over all the fragments of the ledger.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>count of unique bookies</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getDigestManager()">getDigestManager</a></h3>
<div class="memberSignature"><span class="returnType">org.apache.bookkeeper.proto.checksum.DigestManager</span>&nbsp;<span class="memberName">getDigestManager</span>()</div>
<div class="block">Get the DigestManager.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>DigestManager for the LedgerHandle</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="addToLength(long)">addToLength</a></h3>
<div class="memberSignature"><span class="returnType">long</span>&nbsp;<span class="memberName">addToLength</span>&#8203;(<span class="arguments">long&nbsp;delta)</span></div>
<div class="block">Add to the length of the ledger in bytes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>delta</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the length of the ledger after the addition</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getLength()">getLength</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">getLength</span>()</div>
<div class="block">Returns the length of the ledger in bytes.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="api/ReadHandle.html#getLength()">getLength</a></code>&nbsp;in interface&nbsp;<code><a href="api/ReadHandle.html" title="interface in org.apache.bookkeeper.client.api">ReadHandle</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the length of the ledger in bytes</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getCtime()">getCtime</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">getCtime</span>()</div>
<div class="block">Returns the ledger creation time.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the ledger creation time</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getDistributionSchedule()">getDistributionSchedule</a></h3>
<div class="memberSignature"><span class="returnType"><a href="DistributionSchedule.html" title="interface in org.apache.bookkeeper.client">DistributionSchedule</a></span>&nbsp;<span class="memberName">getDistributionSchedule</span>()</div>
<div class="block">Get the Distribution Schedule.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>DistributionSchedule for the LedgerHandle</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getBookiesHealthInfo()">getBookiesHealthInfo</a></h3>
<div class="memberSignature"><span class="returnType"><a href="BookiesHealthInfo.html" title="interface in org.apache.bookkeeper.client">BookiesHealthInfo</a></span>&nbsp;<span class="memberName">getBookiesHealthInfo</span>()</div>
<div class="block">Get the health info for bookies for this ledger.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>BookiesHealthInfo for every bookie in the write set.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="close()">close</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">close</span>()
           throws <span class="exceptions">java.lang.InterruptedException,
<a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></span></div>
<div class="block">Synchronous close the write handle, any adds in flight will return errors.

 <p>Closing a ledger will ensure that all clients agree on what the last
 entry of the ledger is. Once the ledger has been closed, all reads from the
 ledger will return the same set of entries.

 <p>The close operation can error if it finds conflicting metadata when it
 tries to write to the metadata store. On close, the metadata state is set to
 closed and lastEntry and length of the ledger are fixed in the metadata. A
 conflict occurs if the metadata in the metadata store has a different value for
 the lastEntry or length. If another process has updated the metadata, setting it
 to closed, but have fixed the lastEntry and length to the same values as this
 process is trying to write, the operation completes successfully.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="api/Handle.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="api/Handle.html" title="interface in org.apache.bookkeeper.client.api">Handle</a></code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="api/WriteHandle.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="api/WriteHandle.html" title="interface in org.apache.bookkeeper.client.api">WriteHandle</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="api/Handle.html#closeAsync()"><code>Handle.closeAsync()</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="closeAsync()">closeAsync</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.util.concurrent.CompletableFuture&lt;java.lang.Void&gt;</span>&nbsp;<span class="memberName">closeAsync</span>()</div>
<div class="block">Asynchronous close the write handle, any adds in flight will return errors.

 <p>Closing a ledger will ensure that all clients agree on what the last
 entry of the ledger is. Once the ledger has been closed, all reads from the
 ledger will return the same set of entries.

 <p>The close operation can error if it finds conflicting metadata when it
 tries to write to the metadata store. On close, the metadata state is set to
 closed and lastEntry and length of the ledger are fixed in the metadata. A
 conflict occurs if the metadata in the metadata store has a different value for
 the lastEntry or length. If another process has updated the metadata, setting it
 to closed, but have fixed the lastEntry and length to the same values as this
 process is trying to write, the operation completes successfully.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="api/Handle.html#closeAsync()">closeAsync</a></code>&nbsp;in interface&nbsp;<code><a href="api/Handle.html" title="interface in org.apache.bookkeeper.client.api">Handle</a></code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="api/WriteHandle.html#closeAsync()">closeAsync</a></code>&nbsp;in interface&nbsp;<code><a href="api/WriteHandle.html" title="interface in org.apache.bookkeeper.client.api">WriteHandle</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an handle to access the result of the operation</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asyncClose(org.apache.bookkeeper.client.AsyncCallback.CloseCallback,java.lang.Object)">asyncClose</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">asyncClose</span>&#8203;(<span class="arguments"><a href="AsyncCallback.CloseCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.CloseCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</span></div>
<div class="block">Asynchronous close, any adds in flight will return errors.

 <p>Closing a ledger will ensure that all clients agree on what the last entry
 of the ledger is. This ensures that, once the ledger has been closed, all
 reads from the ledger will return the same set of entries.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cb</code> - callback implementation</dd>
<dd><code>ctx</code> - control object</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="isClosed()">isClosed</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">isClosed</span>()</div>
<div class="block">Returns whether the ledger is sealed or not.

 <p>A ledger is sealed when either the client explicitly closes it (<a href="api/WriteHandle.html#close()"><code>WriteHandle.close()</code></a> or
 <a href="api/Handle.html#close()"><code>Handle.close()</code></a>) or another client explicitly open and recovery it
 <a href="api/OpenBuilder.html#withRecovery(boolean)"><code>OpenBuilder.withRecovery(boolean)</code></a>.

 <p>This method only checks the metadata cached locally. The metadata can be not update-to-date because
 the metadata notification is delayed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="api/ReadHandle.html#isClosed()">isClosed</a></code>&nbsp;in interface&nbsp;<code><a href="api/ReadHandle.html" title="interface in org.apache.bookkeeper.client.api">ReadHandle</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the ledger is sealed, otherwise false.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="isHandleWritable()">isHandleWritable</a></h3>
<div class="memberSignature"><span class="returnType">boolean</span>&nbsp;<span class="memberName">isHandleWritable</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asyncCloseInternal(org.apache.bookkeeper.client.AsyncCallback.CloseCallback,java.lang.Object,int)">asyncCloseInternal</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">asyncCloseInternal</span>&#8203;(<span class="arguments"><a href="AsyncCallback.CloseCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.CloseCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx,
int&nbsp;rc)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="doAsyncCloseInternal(org.apache.bookkeeper.client.AsyncCallback.CloseCallback,java.lang.Object,int)">doAsyncCloseInternal</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">doAsyncCloseInternal</span>&#8203;(<span class="arguments"><a href="AsyncCallback.CloseCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.CloseCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx,
int&nbsp;rc)</span></div>
<div class="block">Same as public version of asyncClose except that this one takes an
 additional parameter which is the return code to hand to all the pending
 add ops.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cb</code> - </dd>
<dd><code>ctx</code> - </dd>
<dd><code>rc</code> - </dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="readEntries(long,long)">readEntries</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.util.Enumeration&lt;<a href="LedgerEntry.html" title="class in org.apache.bookkeeper.client">LedgerEntry</a>&gt;</span>&nbsp;<span class="memberName">readEntries</span>&#8203;(<span class="arguments">long&nbsp;firstEntry,
long&nbsp;lastEntry)</span>
                                               throws <span class="exceptions">java.lang.InterruptedException,
<a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></span></div>
<div class="block">Read a sequence of entries synchronously.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>firstEntry</code> - id of first entry of sequence (included)</dd>
<dd><code>lastEntry</code> - id of last entry of sequence (included)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#asyncReadEntries(long,long,org.apache.bookkeeper.client.AsyncCallback.ReadCallback,java.lang.Object)"><code>asyncReadEntries(long, long, ReadCallback, Object)</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="readUnconfirmedEntries(long,long)">readUnconfirmedEntries</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.util.Enumeration&lt;<a href="LedgerEntry.html" title="class in org.apache.bookkeeper.client">LedgerEntry</a>&gt;</span>&nbsp;<span class="memberName">readUnconfirmedEntries</span>&#8203;(<span class="arguments">long&nbsp;firstEntry,
long&nbsp;lastEntry)</span>
                                                          throws <span class="exceptions">java.lang.InterruptedException,
<a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></span></div>
<div class="block">Read a sequence of entries synchronously, allowing to read after the LastAddConfirmed range.<br>
 This is the same of
 <a href="#asyncReadUnconfirmedEntries(long,long,org.apache.bookkeeper.client.AsyncCallback.ReadCallback,java.lang.Object)"><code>asyncReadUnconfirmedEntries(long, long, ReadCallback, Object)</code></a></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>firstEntry</code> - id of first entry of sequence (included)</dd>
<dd><code>lastEntry</code> - id of last entry of sequence (included)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#readEntries(long,long)"><code>readEntries(long, long)</code></a>, 
<a href="#asyncReadUnconfirmedEntries(long,long,org.apache.bookkeeper.client.AsyncCallback.ReadCallback,java.lang.Object)"><code>asyncReadUnconfirmedEntries(long, long, ReadCallback, java.lang.Object)</code></a>, 
<a href="#asyncReadLastConfirmed(org.apache.bookkeeper.client.AsyncCallback.ReadLastConfirmedCallback,java.lang.Object)"><code>asyncReadLastConfirmed(ReadLastConfirmedCallback, java.lang.Object)</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asyncReadEntries(long,long,org.apache.bookkeeper.client.AsyncCallback.ReadCallback,java.lang.Object)">asyncReadEntries</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">asyncReadEntries</span>&#8203;(<span class="arguments">long&nbsp;firstEntry,
long&nbsp;lastEntry,
<a href="AsyncCallback.ReadCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.ReadCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</span></div>
<div class="block">Read a sequence of entries asynchronously.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>firstEntry</code> - id of first entry of sequence</dd>
<dd><code>lastEntry</code> - id of last entry of sequence</dd>
<dd><code>cb</code> - object implementing read callback interface</dd>
<dd><code>ctx</code> - control object</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asyncReadUnconfirmedEntries(long,long,org.apache.bookkeeper.client.AsyncCallback.ReadCallback,java.lang.Object)">asyncReadUnconfirmedEntries</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">asyncReadUnconfirmedEntries</span>&#8203;(<span class="arguments">long&nbsp;firstEntry,
long&nbsp;lastEntry,
<a href="AsyncCallback.ReadCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.ReadCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</span></div>
<div class="block">Read a sequence of entries asynchronously, allowing to read after the LastAddConfirmed range.
 <br>This is the same of
 <a href="#asyncReadEntries(long,long,org.apache.bookkeeper.client.AsyncCallback.ReadCallback,java.lang.Object)"><code>asyncReadEntries(long, long, ReadCallback, Object)</code></a>
 but it lets the client read without checking the local value of LastAddConfirmed, so that it is possibile to
 read entries for which the writer has not received the acknowledge yet. <br>
 For entries which are within the range 0..LastAddConfirmed BookKeeper guarantees that the writer has successfully
 received the acknowledge.<br>
 For entries outside that range it is possible that the writer never received the acknowledge
 and so there is the risk that the reader is seeing entries before the writer and this could result in
 a consistency issue in some cases.<br>
 With this method you can even read entries before the LastAddConfirmed and entries after it with one call,
 the expected consistency will be as described above for each subrange of ids.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>firstEntry</code> - id of first entry of sequence</dd>
<dd><code>lastEntry</code> - id of last entry of sequence</dd>
<dd><code>cb</code> - object implementing read callback interface</dd>
<dd><code>ctx</code> - control object</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#asyncReadEntries(long,long,org.apache.bookkeeper.client.AsyncCallback.ReadCallback,java.lang.Object)"><code>asyncReadEntries(long, long, ReadCallback, Object)</code></a>, 
<a href="#asyncReadLastConfirmed(org.apache.bookkeeper.client.AsyncCallback.ReadLastConfirmedCallback,java.lang.Object)"><code>asyncReadLastConfirmed(ReadLastConfirmedCallback, Object)</code></a>, 
<a href="#readUnconfirmedEntries(long,long)"><code>readUnconfirmedEntries(long, long)</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="readAsync(long,long)">readAsync</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.util.concurrent.CompletableFuture&lt;<a href="api/LedgerEntries.html" title="interface in org.apache.bookkeeper.client.api">LedgerEntries</a>&gt;</span>&nbsp;<span class="memberName">readAsync</span>&#8203;(<span class="arguments">long&nbsp;firstEntry,
long&nbsp;lastEntry)</span></div>
<div class="block">Read a sequence of entries asynchronously.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="api/ReadHandle.html#readAsync(long,long)">readAsync</a></code>&nbsp;in interface&nbsp;<code><a href="api/ReadHandle.html" title="interface in org.apache.bookkeeper.client.api">ReadHandle</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>firstEntry</code> - id of first entry of sequence</dd>
<dd><code>lastEntry</code> - id of last entry of sequence</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an handle to the result of the operation</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="readUnconfirmedAsync(long,long)">readUnconfirmedAsync</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.util.concurrent.CompletableFuture&lt;<a href="api/LedgerEntries.html" title="interface in org.apache.bookkeeper.client.api">LedgerEntries</a>&gt;</span>&nbsp;<span class="memberName">readUnconfirmedAsync</span>&#8203;(<span class="arguments">long&nbsp;firstEntry,
long&nbsp;lastEntry)</span></div>
<div class="block">Read a sequence of entries asynchronously, allowing to read after the LastAddConfirmed range.
 <br>This is the same of
 <a href="#asyncReadEntries(long,long,org.apache.bookkeeper.client.AsyncCallback.ReadCallback,java.lang.Object)"><code>asyncReadEntries(long, long, ReadCallback, Object)</code></a>
 but it lets the client read without checking the local value of LastAddConfirmed, so that it is possibile to
 read entries for which the writer has not received the acknowledge yet. <br>
 For entries which are within the range 0..LastAddConfirmed BookKeeper guarantees that the writer has successfully
 received the acknowledge.<br>
 For entries outside that range it is possible that the writer never received the acknowledge
 and so there is the risk that the reader is seeing entries before the writer and this could result in
 a consistency issue in some cases.<br>
 With this method you can even read entries before the LastAddConfirmed and entries after it with one call,
 the expected consistency will be as described above for each subrange of ids.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="api/ReadHandle.html#readUnconfirmedAsync(long,long)">readUnconfirmedAsync</a></code>&nbsp;in interface&nbsp;<code><a href="api/ReadHandle.html" title="interface in org.apache.bookkeeper.client.api">ReadHandle</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>firstEntry</code> - id of first entry of sequence</dd>
<dd><code>lastEntry</code> - id of last entry of sequence</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an handle to the result of the operation</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#asyncReadEntries(long,long,org.apache.bookkeeper.client.AsyncCallback.ReadCallback,java.lang.Object)"><code>asyncReadEntries(long, long, ReadCallback, Object)</code></a>, 
<a href="#asyncReadLastConfirmed(org.apache.bookkeeper.client.AsyncCallback.ReadLastConfirmedCallback,java.lang.Object)"><code>asyncReadLastConfirmed(ReadLastConfirmedCallback, Object)</code></a>, 
<a href="#readUnconfirmedEntries(long,long)"><code>readUnconfirmedEntries(long, long)</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asyncReadEntriesInternal(long,long,org.apache.bookkeeper.client.AsyncCallback.ReadCallback,java.lang.Object,boolean)">asyncReadEntriesInternal</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">asyncReadEntriesInternal</span>&#8203;(<span class="arguments">long&nbsp;firstEntry,
long&nbsp;lastEntry,
<a href="AsyncCallback.ReadCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.ReadCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx,
boolean&nbsp;isRecoveryRead)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asyncReadLastEntry(org.apache.bookkeeper.client.AsyncCallback.ReadCallback,java.lang.Object)">asyncReadLastEntry</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">asyncReadLastEntry</span>&#8203;(<span class="arguments"><a href="AsyncCallback.ReadCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.ReadCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="readLastEntry()">readLastEntry</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="LedgerEntry.html" title="class in org.apache.bookkeeper.client">LedgerEntry</a></span>&nbsp;<span class="memberName">readLastEntry</span>()
                          throws <span class="exceptions">java.lang.InterruptedException,
<a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></span></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="readEntriesInternalAsync(long,long,boolean)">readEntriesInternalAsync</a></h3>
<div class="memberSignature"><span class="returnType">java.util.concurrent.CompletableFuture&lt;<a href="api/LedgerEntries.html" title="interface in org.apache.bookkeeper.client.api">LedgerEntries</a>&gt;</span>&nbsp;<span class="memberName">readEntriesInternalAsync</span>&#8203;(<span class="arguments">long&nbsp;firstEntry,
long&nbsp;lastEntry,
boolean&nbsp;isRecoveryRead)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="addEntry(byte[])">addEntry</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">addEntry</span>&#8203;(<span class="arguments">byte[]&nbsp;data)</span>
              throws <span class="exceptions">java.lang.InterruptedException,
<a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></span></div>
<div class="block">Add entry synchronously to an open ledger.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - array of bytes to be written to the ledger
         do not reuse the buffer, bk-client will release it appropriately</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the entryId of the new inserted entry</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="appendAsync(io.netty.buffer.ByteBuf)">appendAsync</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.util.concurrent.CompletableFuture&lt;java.lang.Long&gt;</span>&nbsp;<span class="memberName">appendAsync</span>&#8203;(<span class="arguments">io.netty.buffer.ByteBuf&nbsp;data)</span></div>
<div class="block">Add entry asynchronously to an open ledger.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="api/WriteHandle.html#appendAsync(io.netty.buffer.ByteBuf)">appendAsync</a></code>&nbsp;in interface&nbsp;<code><a href="api/WriteHandle.html" title="interface in org.apache.bookkeeper.client.api">WriteHandle</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - a bytebuf to be written. The bytebuf's reference count will be decremented by 1 after the
             completable future is returned
             do not reuse the buffer, bk-client will release it appropriately.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an handle to the result, in case of success it will return the id of the newly appended entry</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="addEntry(long,byte[])">addEntry</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">addEntry</span>&#8203;(<span class="arguments">long&nbsp;entryId,
byte[]&nbsp;data)</span>
              throws <span class="exceptions">java.lang.InterruptedException,
<a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></span></div>
<div class="block">Add entry synchronously to an open ledger. This can be used only with
 <a href="LedgerHandleAdv.html" title="class in org.apache.bookkeeper.client"><code>LedgerHandleAdv</code></a> returned through ledgers created with <a href="BookKeeper.html#createLedgerAdv(int,int,int,org.apache.bookkeeper.client.BookKeeper.DigestType,byte%5B%5D)"><code>BookKeeper.createLedgerAdv(int, int, int, DigestType, byte[])</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entryId</code> - entryId to be added</dd>
<dd><code>data</code> - array of bytes to be written to the ledger
            do not reuse the buffer, bk-client will release it appropriately</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the entryId of the new inserted entry</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="addEntry(byte[],int,int)">addEntry</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">addEntry</span>&#8203;(<span class="arguments">byte[]&nbsp;data,
int&nbsp;offset,
int&nbsp;length)</span>
              throws <span class="exceptions">java.lang.InterruptedException,
<a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></span></div>
<div class="block">Add entry synchronously to an open ledger.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - array of bytes to be written to the ledger
         do not reuse the buffer, bk-client will release it appropriately</dd>
<dd><code>offset</code> - offset from which to take bytes from data</dd>
<dd><code>length</code> - number of bytes to take from data</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the entryId of the new inserted entry</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="addEntry(long,byte[],int,int)">addEntry</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">addEntry</span>&#8203;(<span class="arguments">long&nbsp;entryId,
byte[]&nbsp;data,
int&nbsp;offset,
int&nbsp;length)</span>
              throws <span class="exceptions">java.lang.InterruptedException,
<a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></span></div>
<div class="block">Add entry synchronously to an open ledger. This can be used only with
 <a href="LedgerHandleAdv.html" title="class in org.apache.bookkeeper.client"><code>LedgerHandleAdv</code></a> returned through ledgers created with <a href="BookKeeper.html#createLedgerAdv(int,int,int,org.apache.bookkeeper.client.BookKeeper.DigestType,byte%5B%5D)"><code>BookKeeper.createLedgerAdv(int, int, int, DigestType, byte[])</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entryId</code> - entryId to be added.</dd>
<dd><code>data</code> - array of bytes to be written to the ledger
            do not reuse the buffer, bk-client will release it appropriately</dd>
<dd><code>offset</code> - offset from which to take bytes from data</dd>
<dd><code>length</code> - number of bytes to take from data</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>entryId</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asyncAddEntry(byte[],org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">asyncAddEntry</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">asyncAddEntry</span>&#8203;(<span class="arguments">byte[]&nbsp;data,
<a href="AsyncCallback.AddCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.AddCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</span></div>
<div class="block">Add entry asynchronously to an open ledger.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - array of bytes to be written
          do not reuse the buffer, bk-client will release it appropriately</dd>
<dd><code>cb</code> - object implementing callbackinterface</dd>
<dd><code>ctx</code> - some control object</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asyncAddEntry(long,byte[],org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">asyncAddEntry</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">asyncAddEntry</span>&#8203;(<span class="arguments">long&nbsp;entryId,
byte[]&nbsp;data,
<a href="AsyncCallback.AddCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.AddCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</span></div>
<div class="block">Add entry asynchronously to an open ledger. This can be used only with
 <a href="LedgerHandleAdv.html" title="class in org.apache.bookkeeper.client"><code>LedgerHandleAdv</code></a> returned through ledgers created with <a href="BookKeeper.html#createLedgerAdv(int,int,int,org.apache.bookkeeper.client.BookKeeper.DigestType,byte%5B%5D)"><code>BookKeeper.createLedgerAdv(int, int, int, DigestType, byte[])</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entryId</code> - entryId to be added</dd>
<dd><code>data</code> - array of bytes to be written
            do not reuse the buffer, bk-client will release it appropriately</dd>
<dd><code>cb</code> - object implementing callbackinterface</dd>
<dd><code>ctx</code> - some control object</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asyncAddEntry(byte[],int,int,org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">asyncAddEntry</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">asyncAddEntry</span>&#8203;(<span class="arguments">byte[]&nbsp;data,
int&nbsp;offset,
int&nbsp;length,
<a href="AsyncCallback.AddCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.AddCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</span></div>
<div class="block">Add entry asynchronously to an open ledger, using an offset and range.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - array of bytes to be written
          do not reuse the buffer, bk-client will release it appropriately</dd>
<dd><code>offset</code> - offset from which to take bytes from data</dd>
<dd><code>length</code> - number of bytes to take from data</dd>
<dd><code>cb</code> - object implementing callbackinterface</dd>
<dd><code>ctx</code> - some control object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.ArrayIndexOutOfBoundsException</code> - if offset or length is negative or
          offset and length sum to a value higher than the length of data.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asyncAddEntry(io.netty.buffer.ByteBuf,org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">asyncAddEntry</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">asyncAddEntry</span>&#8203;(<span class="arguments">io.netty.buffer.ByteBuf&nbsp;data,
<a href="AsyncCallback.AddCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.AddCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asyncAddEntry(long,byte[],int,int,org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">asyncAddEntry</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">asyncAddEntry</span>&#8203;(<span class="arguments">long&nbsp;entryId,
byte[]&nbsp;data,
int&nbsp;offset,
int&nbsp;length,
<a href="AsyncCallback.AddCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.AddCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</span></div>
<div class="block">Add entry asynchronously to an open ledger, using an offset and range.
 This can be used only with <a href="LedgerHandleAdv.html" title="class in org.apache.bookkeeper.client"><code>LedgerHandleAdv</code></a> returned through
 ledgers created with
 <a href="BookKeeper.html#createLedgerAdv(int,int,int,org.apache.bookkeeper.client.BookKeeper.DigestType,byte%5B%5D)"><code>BookKeeper.createLedgerAdv(int, int, int, org.apache.bookkeeper.client.BookKeeper.DigestType, byte[])</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entryId</code> - entryId of the entry to add.</dd>
<dd><code>data</code> - array of bytes to be written
            do not reuse the buffer, bk-client will release it appropriately</dd>
<dd><code>offset</code> - offset from which to take bytes from data</dd>
<dd><code>length</code> - number of bytes to take from data</dd>
<dd><code>cb</code> - object implementing callbackinterface</dd>
<dd><code>ctx</code> - some control object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.ArrayIndexOutOfBoundsException</code> - if offset or length is negative or offset and length sum to a
             value higher than the length of data.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asyncAddEntry(long,byte[],int,int,org.apache.bookkeeper.client.AsyncCallback.AddCallbackWithLatency,java.lang.Object)">asyncAddEntry</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">asyncAddEntry</span>&#8203;(<span class="arguments">long&nbsp;entryId,
byte[]&nbsp;data,
int&nbsp;offset,
int&nbsp;length,
<a href="AsyncCallback.AddCallbackWithLatency.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.AddCallbackWithLatency</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</span></div>
<div class="block">Add entry asynchronously to an open ledger, using an offset and range.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entryId</code> - entryId of the entry to add</dd>
<dd><code>data</code> - array of bytes to be written
            do not reuse the buffer, bk-client will release it appropriately</dd>
<dd><code>offset</code> - offset from which to take bytes from data</dd>
<dd><code>length</code> - number of bytes to take from data</dd>
<dd><code>cb</code> - object implementing callbackinterface</dd>
<dd><code>ctx</code> - some control object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.ArrayIndexOutOfBoundsException</code> - if offset or length is negative or offset and length sum to a
             value higher than the length of data.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asyncAddEntry(long,io.netty.buffer.ByteBuf,org.apache.bookkeeper.client.AsyncCallback.AddCallbackWithLatency,java.lang.Object)">asyncAddEntry</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">asyncAddEntry</span>&#8203;(<span class="arguments">long&nbsp;entryId,
io.netty.buffer.ByteBuf&nbsp;data,
<a href="AsyncCallback.AddCallbackWithLatency.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.AddCallbackWithLatency</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</span></div>
<div class="block">Add entry asynchronously to an open ledger, using an offset and range.
 This can be used only with <a href="LedgerHandleAdv.html" title="class in org.apache.bookkeeper.client"><code>LedgerHandleAdv</code></a> returned through
 ledgers created with <code>createLedgerAdv(int, int, int, DigestType, byte[])</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entryId</code> - entryId of the entry to add.</dd>
<dd><code>data</code> - io.netty.buffer.ByteBuf of bytes to be written
            do not reuse the buffer, bk-client will release it appropriately</dd>
<dd><code>cb</code> - object implementing callbackinterface</dd>
<dd><code>ctx</code> - some control object</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="force()">force</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.util.concurrent.CompletableFuture&lt;java.lang.Void&gt;</span>&nbsp;<span class="memberName">force</span>()</div>
<div class="block">Enforce durability to the entries written by this handle.
 <p>This API is useful with <a href="api/WriteFlag.html#DEFERRED_SYNC"><code>WriteFlag.DEFERRED_SYNC</code></a>, because with
 that flag writes are acknowledged by the bookie without waiting for a
 durable write
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="api/ForceableHandle.html#force()">force</a></code>&nbsp;in interface&nbsp;<code><a href="api/ForceableHandle.html" title="interface in org.apache.bookkeeper.client.api">ForceableHandle</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an handle to the result</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asyncRecoveryAddEntry(byte[],int,int,org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">asyncRecoveryAddEntry</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">asyncRecoveryAddEntry</span>&#8203;(<span class="arguments">byte[]&nbsp;data,
int&nbsp;offset,
int&nbsp;length,
<a href="AsyncCallback.AddCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.AddCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</span></div>
<div class="block">Make a recovery add entry request. Recovery adds can add to a ledger even
 if it has been fenced.

 <p>This is only valid for bookie and ledger recovery, which may need to replicate
 entries to a quorum of bookies to ensure data safety.

 <p>Normal client should never call this method.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="waitForWritable(org.apache.bookkeeper.client.DistributionSchedule.WriteSet,long,int,long)">waitForWritable</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">waitForWritable</span>&#8203;(<span class="arguments"><a href="DistributionSchedule.WriteSet.html" title="interface in org.apache.bookkeeper.client">DistributionSchedule.WriteSet</a>&nbsp;writeSet,
long&nbsp;key,
int&nbsp;allowedNonWritableCount,
long&nbsp;durationMs)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="doAsyncAddEntry(org.apache.bookkeeper.client.PendingAddOp)">doAsyncAddEntry</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">doAsyncAddEntry</span>&#8203;(<span class="arguments"><a href="PendingAddOp.html" title="class in org.apache.bookkeeper.client">PendingAddOp</a>&nbsp;op)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="updateLastConfirmed(long,long)">updateLastConfirmed</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">updateLastConfirmed</span>&#8203;(<span class="arguments">long&nbsp;lac,
long&nbsp;len)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asyncReadLastConfirmed(org.apache.bookkeeper.client.AsyncCallback.ReadLastConfirmedCallback,java.lang.Object)">asyncReadLastConfirmed</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">asyncReadLastConfirmed</span>&#8203;(<span class="arguments"><a href="AsyncCallback.ReadLastConfirmedCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.ReadLastConfirmedCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</span></div>
<div class="block">Obtains asynchronously the last confirmed write from a quorum of bookies. This
 call obtains the the last add confirmed each bookie has received for this ledger
 and returns the maximum. If the ledger has been closed, the value returned by this
 call may not correspond to the id of the last entry of the ledger, since it reads
 the hint of bookies. Consequently, in the case the ledger has been closed, it may
 return a different value than getLastAddConfirmed, which returns the local value
 of the ledger handle.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cb</code> - </dd>
<dd><code>ctx</code> - </dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#getLastAddConfirmed()"><code>getLastAddConfirmed()</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asyncTryReadLastConfirmed(org.apache.bookkeeper.client.AsyncCallback.ReadLastConfirmedCallback,java.lang.Object)">asyncTryReadLastConfirmed</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">asyncTryReadLastConfirmed</span>&#8203;(<span class="arguments"><a href="AsyncCallback.ReadLastConfirmedCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.ReadLastConfirmedCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</span></div>
<div class="block">Obtains asynchronously the last confirmed write from a quorum of bookies.
 It is similar as
 <a href="#asyncReadLastConfirmed(org.apache.bookkeeper.client.AsyncCallback.ReadLastConfirmedCallback,java.lang.Object)"><code>asyncReadLastConfirmed(org.apache.bookkeeper.client.AsyncCallback.ReadLastConfirmedCallback, Object)</code></a>,
 but it doesn't wait all the responses from the quorum. It would callback
 immediately if it received a LAC which is larger than current LAC.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cb</code> - callback to return read last confirmed</dd>
<dd><code>ctx</code> - callback context</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#asyncTryReadLastConfirmed(org.apache.bookkeeper.client.AsyncCallback.ReadLastConfirmedCallback,java.lang.Object)"><code>asyncTryReadLastConfirmed(org.apache.bookkeeper.client.AsyncCallback.ReadLastConfirmedCallback, Object)</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="tryReadLastAddConfirmedAsync()">tryReadLastAddConfirmedAsync</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.util.concurrent.CompletableFuture&lt;java.lang.Long&gt;</span>&nbsp;<span class="memberName">tryReadLastAddConfirmedAsync</span>()</div>
<div class="block">Obtains asynchronously the last confirmed write from a quorum of bookies
 but it doesn't wait all the responses from the quorum. It would callback
 immediately if it received a LAC which is larger than current LAC.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="api/ReadHandle.html#tryReadLastAddConfirmedAsync()">tryReadLastAddConfirmedAsync</a></code>&nbsp;in interface&nbsp;<code><a href="api/ReadHandle.html" title="interface in org.apache.bookkeeper.client.api">ReadHandle</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an handle to the result of the operation</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="readLastAddConfirmedAsync()">readLastAddConfirmedAsync</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.util.concurrent.CompletableFuture&lt;java.lang.Long&gt;</span>&nbsp;<span class="memberName">readLastAddConfirmedAsync</span>()</div>
<div class="block">Obtains asynchronously the last confirmed write from a quorum of bookies. This
 call obtains the the last add confirmed each bookie has received for this ledger
 and returns the maximum. If the ledger has been closed, the value returned by this
 call may not correspond to the id of the last entry of the ledger, since it reads
 the hint of bookies. Consequently, in the case the ledger has been closed, it may
 return a different value than getLastAddConfirmed, which returns the local value
 of the ledger handle.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="api/ReadHandle.html#readLastAddConfirmedAsync()">readLastAddConfirmedAsync</a></code>&nbsp;in interface&nbsp;<code><a href="api/ReadHandle.html" title="interface in org.apache.bookkeeper.client.api">ReadHandle</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an handle to the result of the operation</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="api/ReadHandle.html#getLastAddConfirmed()"><code>ReadHandle.getLastAddConfirmed()</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="readLastAddConfirmedAndEntryAsync(long,long,boolean)">readLastAddConfirmedAndEntryAsync</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.util.concurrent.CompletableFuture&lt;<a href="api/LastConfirmedAndEntry.html" title="interface in org.apache.bookkeeper.client.api">LastConfirmedAndEntry</a>&gt;</span>&nbsp;<span class="memberName">readLastAddConfirmedAndEntryAsync</span>&#8203;(<span class="arguments">long&nbsp;entryId,
long&nbsp;timeOutInMillis,
boolean&nbsp;parallel)</span></div>
<div class="block">Asynchronous read specific entry and the latest last add confirmed.
 If the next entryId is less than known last add confirmed, the call will read next entry directly.
 If the next entryId is ahead of known last add confirmed, the call will issue a long poll read
 to wait for the next entry <i>entryId</i>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="api/ReadHandle.html#readLastAddConfirmedAndEntryAsync(long,long,boolean)">readLastAddConfirmedAndEntryAsync</a></code>&nbsp;in interface&nbsp;<code><a href="api/ReadHandle.html" title="interface in org.apache.bookkeeper.client.api">ReadHandle</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entryId</code> - next entry id to read</dd>
<dd><code>timeOutInMillis</code> - timeout period to wait for the entry id to be available (for long poll only)
          if timeout for get the entry, it will return null entry.</dd>
<dd><code>parallel</code> - whether to issue the long poll reads in parallel</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an handle to the result of the operation</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asyncReadLastConfirmedAndEntry(long,long,boolean,org.apache.bookkeeper.client.AsyncCallback.ReadLastConfirmedAndEntryCallback,java.lang.Object)">asyncReadLastConfirmedAndEntry</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">asyncReadLastConfirmedAndEntry</span>&#8203;(<span class="arguments">long&nbsp;entryId,
long&nbsp;timeOutInMillis,
boolean&nbsp;parallel,
<a href="AsyncCallback.ReadLastConfirmedAndEntryCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.ReadLastConfirmedAndEntryCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</span></div>
<div class="block">Asynchronous read next entry and the latest last add confirmed.
 If the next entryId is less than known last add confirmed, the call will read next entry directly.
 If the next entryId is ahead of known last add confirmed, the call will issue a long poll read
 to wait for the next entry <i>entryId</i>.

 <p>The callback will return the latest last add confirmed and next entry if it is available within timeout
 period <i>timeOutInMillis</i>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entryId</code> - next entry id to read</dd>
<dd><code>timeOutInMillis</code> - timeout period to wait for the entry id to be available (for long poll only)</dd>
<dd><code>parallel</code> - whether to issue the long poll reads in parallel</dd>
<dd><code>cb</code> - callback to return the result</dd>
<dd><code>ctx</code> - callback context</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="readLastConfirmed()">readLastConfirmed</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">readLastConfirmed</span>()
                       throws <span class="exceptions">java.lang.InterruptedException,
<a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></span></div>
<div class="block">Obtains synchronously the last confirmed write from a quorum of bookies. This call
 obtains the the last add confirmed each bookie has received for this ledger
 and returns the maximum. If the ledger has been closed, the value returned by this
 call may not correspond to the id of the last entry of the ledger, since it reads
 the hint of bookies. Consequently, in the case the ledger has been closed, it may
 return a different value than getLastAddConfirmed, which returns the local value
 of the ledger handle.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The entry id of the last confirmed write or <a href="#INVALID_ENTRY_ID"><code>INVALID_ENTRY_ID</code></a>
         if no entry has been confirmed</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#getLastAddConfirmed()"><code>getLastAddConfirmed()</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="tryReadLastConfirmed()">tryReadLastConfirmed</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">tryReadLastConfirmed</span>()
                          throws <span class="exceptions">java.lang.InterruptedException,
<a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></span></div>
<div class="block">Obtains synchronously the last confirmed write from a quorum of bookies.
 It is similar as <a href="#readLastConfirmed()"><code>readLastConfirmed()</code></a>, but it doesn't wait all the responses
 from the quorum. It would callback immediately if it received a LAC which is larger
 than current LAC.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The entry id of the last confirmed write or <a href="#INVALID_ENTRY_ID"><code>INVALID_ENTRY_ID</code></a>
         if no entry has been confirmed</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#readLastConfirmed()"><code>readLastConfirmed()</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asyncReadExplicitLastConfirmed(org.apache.bookkeeper.client.AsyncCallback.ReadLastConfirmedCallback,java.lang.Object)">asyncReadExplicitLastConfirmed</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">asyncReadExplicitLastConfirmed</span>&#8203;(<span class="arguments"><a href="AsyncCallback.ReadLastConfirmedCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.ReadLastConfirmedCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</span></div>
<div class="block">Obtains asynchronously the explicit last add confirmed from a quorum of
 bookies. This call obtains Explicit LAC value and piggy-backed LAC value (just like
 <a href="#asyncReadLastConfirmed(org.apache.bookkeeper.client.AsyncCallback.ReadLastConfirmedCallback,java.lang.Object)"><code>asyncReadLastConfirmed(ReadLastConfirmedCallback, Object)</code></a>) from each
 bookie in the ensemble and returns the maximum.
 If in the write LedgerHandle, explicitLAC feature is not enabled then this call behavior
 will be similar to <a href="#asyncReadLastConfirmed(org.apache.bookkeeper.client.AsyncCallback.ReadLastConfirmedCallback,java.lang.Object)"><code>asyncReadLastConfirmed(ReadLastConfirmedCallback, Object)</code></a>.
 If the read explicit lastaddconfirmed is greater than getLastAddConfirmed, then it updates the
 lastAddConfirmed of this ledgerhandle. If the ledger has been closed, it
 returns the value of the last add confirmed from the metadata.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cb</code> - callback to return read explicit last confirmed</dd>
<dd><code>ctx</code> - callback context</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#getLastAddConfirmed()"><code>getLastAddConfirmed()</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="readExplicitLastConfirmed()">readExplicitLastConfirmed</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">readExplicitLastConfirmed</span>()
                               throws <span class="exceptions">java.lang.InterruptedException,
<a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></span></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="handleUnrecoverableErrorDuringAdd(int)">handleUnrecoverableErrorDuringAdd</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">handleUnrecoverableErrorDuringAdd</span>&#8203;(<span class="arguments">int&nbsp;rc)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="errorOutPendingAdds(int)">errorOutPendingAdds</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">errorOutPendingAdds</span>&#8203;(<span class="arguments">int&nbsp;rc)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="drainPendingAddsAndAdjustLength()">drainPendingAddsAndAdjustLength</a></h3>
<div class="memberSignature"><span class="returnType">java.util.List&lt;<a href="PendingAddOp.html" title="class in org.apache.bookkeeper.client">PendingAddOp</a>&gt;</span>&nbsp;<span class="memberName">drainPendingAddsAndAdjustLength</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="errorOutPendingAdds(int,java.util.List)">errorOutPendingAdds</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">errorOutPendingAdds</span>&#8203;(<span class="arguments">int&nbsp;rc,
java.util.List&lt;<a href="PendingAddOp.html" title="class in org.apache.bookkeeper.client">PendingAddOp</a>&gt;&nbsp;ops)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="sendAddSuccessCallbacks()">sendAddSuccessCallbacks</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">sendAddSuccessCallbacks</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="hasDelayedWriteFailedBookies()">hasDelayedWriteFailedBookies</a></h3>
<div class="memberSignature"><span class="returnType">boolean</span>&nbsp;<span class="memberName">hasDelayedWriteFailedBookies</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="notifyWriteFailed(int,org.apache.bookkeeper.net.BookieSocketAddress)">notifyWriteFailed</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">notifyWriteFailed</span>&#8203;(<span class="arguments">int&nbsp;index,
org.apache.bookkeeper.net.BookieSocketAddress&nbsp;addr)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="maybeHandleDelayedWriteBookieFailure()">maybeHandleDelayedWriteBookieFailure</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">maybeHandleDelayedWriteBookieFailure</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="handleBookieFailure(java.util.Map)">handleBookieFailure</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">handleBookieFailure</span>&#8203;(<span class="arguments">java.util.Map&lt;java.lang.Integer,&#8203;org.apache.bookkeeper.net.BookieSocketAddress&gt;&nbsp;failedBookies)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="ensembleChangeLoop(java.util.List,java.util.Map)">ensembleChangeLoop</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">ensembleChangeLoop</span>&#8203;(<span class="arguments">java.util.List&lt;org.apache.bookkeeper.net.BookieSocketAddress&gt;&nbsp;origEnsemble,
java.util.Map&lt;java.lang.Integer,&#8203;org.apache.bookkeeper.net.BookieSocketAddress&gt;&nbsp;failedBookies)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="unsetSuccessAndSendWriteRequest(java.util.List,java.util.Set)">unsetSuccessAndSendWriteRequest</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">unsetSuccessAndSendWriteRequest</span>&#8203;(<span class="arguments">java.util.List&lt;org.apache.bookkeeper.net.BookieSocketAddress&gt;&nbsp;ensemble,
java.util.Set&lt;java.lang.Integer&gt;&nbsp;bookies)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="registerOperationFailureOnBookie(org.apache.bookkeeper.net.BookieSocketAddress,long)">registerOperationFailureOnBookie</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">registerOperationFailureOnBookie</span>&#8203;(<span class="arguments">org.apache.bookkeeper.net.BookieSocketAddress&nbsp;bookie,
long&nbsp;entryId)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getCurrentEnsemble()">getCurrentEnsemble</a></h3>
<div class="memberSignature"><span class="returnType">java.util.List&lt;org.apache.bookkeeper.net.BookieSocketAddress&gt;</span>&nbsp;<span class="memberName">getCurrentEnsemble</span>()</div>
<div class="block">Get the current ensemble from the ensemble list. The current ensemble
 is the last ensemble in the list. The ledger handle uses this ensemble when
 triggering operations which work on the end of the ledger, such as adding new
 entries or reading the last add confirmed.

 <p>This method is also used by ReadOnlyLedgerHandle during recovery, and when
 tailing a ledger.

 <p>Generally, this method should only be called by LedgerHandle and not by the
 operations themselves, to avoid adding more dependencies between the classes.
 There are too many already.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getWriteSetForReadOperation(long)">getWriteSetForReadOperation</a></h3>
<div class="memberSignature"><span class="returnType"><a href="DistributionSchedule.WriteSet.html" title="interface in org.apache.bookkeeper.client">DistributionSchedule.WriteSet</a></span>&nbsp;<span class="memberName">getWriteSetForReadOperation</span>&#8203;(<span class="arguments">long&nbsp;entryId)</span></div>
<div class="block">Return a <a href="DistributionSchedule.WriteSet.html" title="interface in org.apache.bookkeeper.client"><code>DistributionSchedule.WriteSet</code></a> suitable for reading a particular entry.
 This will include all bookies that are cotna</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LedgerHandle.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2011&#x2013;2020 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
