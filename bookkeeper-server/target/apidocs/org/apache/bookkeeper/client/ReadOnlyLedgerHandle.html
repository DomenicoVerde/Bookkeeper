<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="it">
<head>
<!-- Generated by javadoc -->
<title>ReadOnlyLedgerHandle (Apache BookKeeper :: Server 4.11.0-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.bookkeeper.client, class: ReadOnlyLedgerHandle">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ReadOnlyLedgerHandle.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.bookkeeper.client</a></div>
<h1 title="Class ReadOnlyLedgerHandle" class="title">Class ReadOnlyLedgerHandle</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance"><a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">org.apache.bookkeeper.client.LedgerHandle</a>
<div class="inheritance">org.apache.bookkeeper.client.ReadOnlyLedgerHandle</div>
</div>
</div>
<section class="description">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>java.lang.AutoCloseable</code>, <code><a href="api/ForceableHandle.html" title="interface in org.apache.bookkeeper.client.api">ForceableHandle</a></code>, <code><a href="api/Handle.html" title="interface in org.apache.bookkeeper.client.api">Handle</a></code>, <code><a href="api/ReadHandle.html" title="interface in org.apache.bookkeeper.client.api">ReadHandle</a></code>, <code><a href="api/WriteHandle.html" title="interface in org.apache.bookkeeper.client.api">WriteHandle</a></code>, <code>org.apache.bookkeeper.proto.BookkeeperInternalCallbacks.LedgerMetadataListener</code></dd>
</dl>
<hr>
<pre>class <span class="typeNameLabel">ReadOnlyLedgerHandle</span>
extends <a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">LedgerHandle</a>
implements org.apache.bookkeeper.proto.BookkeeperInternalCallbacks.LedgerMetadataListener</pre>
<div class="block">Read only ledger handle. This ledger handle allows you to
 read from a ledger but not to write to it. It overrides all
 the public write operations from LedgerHandle.
 It should be returned for BookKeeper#openLedger operations.</div>
</section>
<section class="summary">
<ul class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li class="blockList">
<section class="nestedClassSummary"><a id="nested.class.summary">
<!--   -->
</a>
<h2>Nested Class Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>(package private) class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="ReadOnlyLedgerHandle.MetadataUpdater.html" title="class in org.apache.bookkeeper.client">ReadOnlyLedgerHandle.MetadataUpdater</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="inheritedList">
<h2>Nested classes/interfaces inherited from class&nbsp;org.apache.bookkeeper.client.<a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">LedgerHandle</a></h2>
<a id="nested.classes.inherited.from.class.org.apache.bookkeeper.client.LedgerHandle">
<!--   -->
</a><code><a href="LedgerHandle.LastConfirmedCtx.html" title="class in org.apache.bookkeeper.client">LedgerHandle.LastConfirmedCtx</a>, <a href="LedgerHandle.NoopCloseCallback.html" title="class in org.apache.bookkeeper.client">LedgerHandle.NoopCloseCallback</a></code></div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li class="blockList">
<section class="fieldSummary"><a id="field.summary">
<!--   -->
</a>
<h2>Field Summary</h2>
<div class="inheritedList">
<h3>Fields inherited from class&nbsp;org.apache.bookkeeper.client.<a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">LedgerHandle</a></h3>
<a id="fields.inherited.from.class.org.apache.bookkeeper.client.LedgerHandle">
<!--   -->
</a><code><a href="LedgerHandle.html#bookieFailureHistory">bookieFailureHistory</a>, <a href="LedgerHandle.html#bookiesHealthInfo">bookiesHealthInfo</a>, <a href="LedgerHandle.html#changingEnsemble">changingEnsemble</a>, <a href="LedgerHandle.html#clientCtx">clientCtx</a>, <a href="LedgerHandle.html#delayedWriteFailedBookies">delayedWriteFailedBookies</a>, <a href="LedgerHandle.html#distributionSchedule">distributionSchedule</a>, <a href="LedgerHandle.html#ensembleChangeCounter">ensembleChangeCounter</a>, <a href="LedgerHandle.html#explicitLacFlushPolicy">explicitLacFlushPolicy</a>, <a href="LedgerHandle.html#INVALID_ENTRY_ID">INVALID_ENTRY_ID</a>, <a href="LedgerHandle.html#INVALID_LEDGER_ID">INVALID_LEDGER_ID</a>, <a href="LedgerHandle.html#lacUpdateHitsCounter">lacUpdateHitsCounter</a>, <a href="LedgerHandle.html#lacUpdateMissesCounter">lacUpdateMissesCounter</a>, <a href="LedgerHandle.html#lastAddConfirmed">lastAddConfirmed</a>, <a href="LedgerHandle.html#lastAddPushed">lastAddPushed</a>, <a href="LedgerHandle.html#ledgerId">ledgerId</a>, <a href="LedgerHandle.html#ledgerKey">ledgerKey</a>, <a href="LedgerHandle.html#length">length</a>, <a href="LedgerHandle.html#macManager">macManager</a>, <a href="LedgerHandle.html#numEnsembleChanges">numEnsembleChanges</a>, <a href="LedgerHandle.html#pendingAddOps">pendingAddOps</a>, <a href="LedgerHandle.html#pendingAddsSequenceHead">pendingAddsSequenceHead</a>, <a href="LedgerHandle.html#throttler">throttler</a>, <a href="LedgerHandle.html#timeoutFuture">timeoutFuture</a>, <a href="LedgerHandle.html#writeFlags">writeFlags</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
<!--   -->
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.apache.bookkeeper.client.ClientContext,long,org.apache.bookkeeper.versioning.Versioned,org.apache.bookkeeper.client.BookKeeper.DigestType,byte%5B%5D,boolean)">ReadOnlyLedgerHandle</a></span>&#8203;(<a href="ClientContext.html" title="interface in org.apache.bookkeeper.client">ClientContext</a>&nbsp;clientCtx,
long&nbsp;ledgerId,
org.apache.bookkeeper.versioning.Versioned&lt;<a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a>&gt;&nbsp;metadata,
<a href="BookKeeper.DigestType.html" title="enum in org.apache.bookkeeper.client">BookKeeper.DigestType</a>&nbsp;digestType,
byte[]&nbsp;password,
boolean&nbsp;watch)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addEntry(byte%5B%5D)">addEntry</a></span>&#8203;(byte[]&nbsp;data)</code></th>
<td class="colLast">
<div class="block">Add entry synchronously to an open ledger.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addEntry(byte%5B%5D,int,int)">addEntry</a></span>&#8203;(byte[]&nbsp;data,
int&nbsp;offset,
int&nbsp;length)</code></th>
<td class="colLast">
<div class="block">Add entry synchronously to an open ledger.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncAddEntry(byte%5B%5D,int,int,org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">asyncAddEntry</a></span>&#8203;(byte[]&nbsp;data,
int&nbsp;offset,
int&nbsp;length,
<a href="AsyncCallback.AddCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.AddCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</code></th>
<td class="colLast">
<div class="block">Add entry asynchronously to an open ledger, using an offset and range.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncAddEntry(byte%5B%5D,org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">asyncAddEntry</a></span>&#8203;(byte[]&nbsp;data,
<a href="AsyncCallback.AddCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.AddCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</code></th>
<td class="colLast">
<div class="block">Add entry asynchronously to an open ledger.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncClose(org.apache.bookkeeper.client.AsyncCallback.CloseCallback,java.lang.Object)">asyncClose</a></span>&#8203;(<a href="AsyncCallback.CloseCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.CloseCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</code></th>
<td class="colLast">
<div class="block">Asynchronous close, any adds in flight will return errors.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncReadLastEntry(org.apache.bookkeeper.client.AsyncCallback.ReadCallback,java.lang.Object)">asyncReadLastEntry</a></span>&#8203;(<a href="AsyncCallback.ReadCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.ReadCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#close()">close</a></span>()</code></th>
<td class="colLast">
<div class="block">Synchronous close the write handle, any adds in flight will return errors.</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>(package private) java.util.concurrent.CompletableFuture&lt;org.apache.bookkeeper.versioning.Versioned&lt;<a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#closeRecovered()">closeRecovered</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code>(package private) java.util.List&lt;org.apache.bookkeeper.net.BookieSocketAddress&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCurrentEnsemble()">getCurrentEnsemble</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the current ensemble from the ensemble list.</div>
</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleBookieFailure(java.util.Map)">handleBookieFailure</a></span>&#8203;(java.util.Map&lt;java.lang.Integer,&#8203;org.apache.bookkeeper.net.BookieSocketAddress&gt;&nbsp;failedBookies)</code></th>
<td class="colLast">
<div class="block">For a read only ledger handle, this method will only ever be called during recovery,
 when we are reading forward from LAC and writing back those entries.</div>
</td>
</tr>
<tr class="altColor" id="i10">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleUnrecoverableErrorDuringAdd(int)">handleUnrecoverableErrorDuringAdd</a></span>&#8203;(int&nbsp;rc)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i11">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initializeWriteHandleState()">initializeWriteHandleState</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i12">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onChanged(long,org.apache.bookkeeper.versioning.Versioned)">onChanged</a></span>&#8203;(long&nbsp;lid,
org.apache.bookkeeper.versioning.Versioned&lt;<a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a>&gt;&nbsp;newMetadata)</code></th>
<td class="colLast">
<div class="block">Triggered each time ledger metadata changed.</div>
</td>
</tr>
<tr class="rowColor" id="i13">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#recover(org.apache.bookkeeper.proto.BookkeeperInternalCallbacks.GenericCallback)">recover</a></span>&#8203;(org.apache.bookkeeper.proto.BookkeeperInternalCallbacks.GenericCallback&lt;java.lang.Void&gt;&nbsp;finalCb)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i14">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#recover(org.apache.bookkeeper.proto.BookkeeperInternalCallbacks.GenericCallback,org.apache.bookkeeper.proto.BookkeeperInternalCallbacks.ReadEntryListener,boolean)">recover</a></span>&#8203;(org.apache.bookkeeper.proto.BookkeeperInternalCallbacks.GenericCallback&lt;java.lang.Void&gt;&nbsp;finalCb,
org.apache.bookkeeper.proto.BookkeeperInternalCallbacks.ReadEntryListener&nbsp;listener,
boolean&nbsp;forceRecovery)</code></th>
<td class="colLast">
<div class="block">Recover the ledger.</div>
</td>
</tr>
<tr class="rowColor" id="i15">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#toString()">toString</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;org.apache.bookkeeper.client.<a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">LedgerHandle</a></h3>
<a id="methods.inherited.from.class.org.apache.bookkeeper.client.LedgerHandle">
<!--   -->
</a><code><a href="LedgerHandle.html#addEntry(long,byte%5B%5D)">addEntry</a>, <a href="LedgerHandle.html#addEntry(long,byte%5B%5D,int,int)">addEntry</a>, <a href="LedgerHandle.html#addToLength(long)">addToLength</a>, <a href="LedgerHandle.html#appendAsync(io.netty.buffer.ByteBuf)">appendAsync</a>, <a href="LedgerHandle.html#asyncAddEntry(long,byte%5B%5D,int,int,org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">asyncAddEntry</a>, <a href="LedgerHandle.html#asyncAddEntry(long,byte%5B%5D,int,int,org.apache.bookkeeper.client.AsyncCallback.AddCallbackWithLatency,java.lang.Object)">asyncAddEntry</a>, <a href="LedgerHandle.html#asyncAddEntry(long,byte%5B%5D,org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">asyncAddEntry</a>, <a href="LedgerHandle.html#asyncAddEntry(long,io.netty.buffer.ByteBuf,org.apache.bookkeeper.client.AsyncCallback.AddCallbackWithLatency,java.lang.Object)">asyncAddEntry</a>, <a href="LedgerHandle.html#asyncAddEntry(io.netty.buffer.ByteBuf,org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">asyncAddEntry</a>, <a href="LedgerHandle.html#asyncCloseInternal(org.apache.bookkeeper.client.AsyncCallback.CloseCallback,java.lang.Object,int)">asyncCloseInternal</a>, <a href="LedgerHandle.html#asyncReadEntries(long,long,org.apache.bookkeeper.client.AsyncCallback.ReadCallback,java.lang.Object)">asyncReadEntries</a>, <a href="LedgerHandle.html#asyncReadEntriesInternal(long,long,org.apache.bookkeeper.client.AsyncCallback.ReadCallback,java.lang.Object,boolean)">asyncReadEntriesInternal</a>, <a href="LedgerHandle.html#asyncReadExplicitLastConfirmed(org.apache.bookkeeper.client.AsyncCallback.ReadLastConfirmedCallback,java.lang.Object)">asyncReadExplicitLastConfirmed</a>, <a href="LedgerHandle.html#asyncReadLastConfirmed(org.apache.bookkeeper.client.AsyncCallback.ReadLastConfirmedCallback,java.lang.Object)">asyncReadLastConfirmed</a>, <a href="LedgerHandle.html#asyncReadLastConfirmedAndEntry(long,long,boolean,org.apache.bookkeeper.client.AsyncCallback.ReadLastConfirmedAndEntryCallback,java.lang.Object)">asyncReadLastConfirmedAndEntry</a>, <a href="LedgerHandle.html#asyncReadUnconfirmedEntries(long,long,org.apache.bookkeeper.client.AsyncCallback.ReadCallback,java.lang.Object)">asyncReadUnconfirmedEntries</a>, <a href="LedgerHandle.html#asyncRecoveryAddEntry(byte%5B%5D,int,int,org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">asyncRecoveryAddEntry</a>, <a href="LedgerHandle.html#asyncTryReadLastConfirmed(org.apache.bookkeeper.client.AsyncCallback.ReadLastConfirmedCallback,java.lang.Object)">asyncTryReadLastConfirmed</a>, <a href="LedgerHandle.html#closeAsync()">closeAsync</a>, <a href="LedgerHandle.html#doAsyncAddEntry(org.apache.bookkeeper.client.PendingAddOp)">doAsyncAddEntry</a>, <a href="LedgerHandle.html#doAsyncCloseInternal(org.apache.bookkeeper.client.AsyncCallback.CloseCallback,java.lang.Object,int)">doAsyncCloseInternal</a>, <a href="LedgerHandle.html#drainPendingAddsAndAdjustLength()">drainPendingAddsAndAdjustLength</a>, <a href="LedgerHandle.html#ensembleChangeLoop(java.util.List,java.util.Map)">ensembleChangeLoop</a>, <a href="LedgerHandle.html#errorOutPendingAdds(int)">errorOutPendingAdds</a>, <a href="LedgerHandle.html#errorOutPendingAdds(int,java.util.List)">errorOutPendingAdds</a>, <a href="LedgerHandle.html#force()">force</a>, <a href="LedgerHandle.html#getBookiesHealthInfo()">getBookiesHealthInfo</a>, <a href="LedgerHandle.html#getCtime()">getCtime</a>, <a href="LedgerHandle.html#getCustomMetadata()">getCustomMetadata</a>, <a href="LedgerHandle.html#getDigestManager()">getDigestManager</a>, <a href="LedgerHandle.html#getDistributionSchedule()">getDistributionSchedule</a>, <a href="LedgerHandle.html#getId()">getId</a>, <a href="LedgerHandle.html#getLastAddConfirmed()">getLastAddConfirmed</a>, <a href="LedgerHandle.html#getLastAddPushed()">getLastAddPushed</a>, <a href="LedgerHandle.html#getLedgerKey()">getLedgerKey</a>, <a href="LedgerHandle.html#getLedgerMetadata()">getLedgerMetadata</a>, <a href="LedgerHandle.html#getLength()">getLength</a>, <a href="LedgerHandle.html#getNumBookies()">getNumBookies</a>, <a href="LedgerHandle.html#getNumFragments()">getNumFragments</a>, <a href="LedgerHandle.html#getVersionedLedgerMetadata()">getVersionedLedgerMetadata</a>, <a href="LedgerHandle.html#getWriteFlags()">getWriteFlags</a>, <a href="LedgerHandle.html#getWriteSetForReadOperation(long)">getWriteSetForReadOperation</a>, <a href="LedgerHandle.html#hasDelayedWriteFailedBookies()">hasDelayedWriteFailedBookies</a>, <a href="LedgerHandle.html#isClosed()">isClosed</a>, <a href="LedgerHandle.html#isHandleWritable()">isHandleWritable</a>, <a href="LedgerHandle.html#maybeHandleDelayedWriteBookieFailure()">maybeHandleDelayedWriteBookieFailure</a>, <a href="LedgerHandle.html#notifyWriteFailed(int,org.apache.bookkeeper.net.BookieSocketAddress)">notifyWriteFailed</a>, <a href="LedgerHandle.html#readAsync(long,long)">readAsync</a>, <a href="LedgerHandle.html#readEntries(long,long)">readEntries</a>, <a href="LedgerHandle.html#readEntriesInternalAsync(long,long,boolean)">readEntriesInternalAsync</a>, <a href="LedgerHandle.html#readExplicitLastConfirmed()">readExplicitLastConfirmed</a>, <a href="LedgerHandle.html#readLastAddConfirmedAndEntryAsync(long,long,boolean)">readLastAddConfirmedAndEntryAsync</a>, <a href="LedgerHandle.html#readLastAddConfirmedAsync()">readLastAddConfirmedAsync</a>, <a href="LedgerHandle.html#readLastConfirmed()">readLastConfirmed</a>, <a href="LedgerHandle.html#readLastEntry()">readLastEntry</a>, <a href="LedgerHandle.html#readUnconfirmedAsync(long,long)">readUnconfirmedAsync</a>, <a href="LedgerHandle.html#readUnconfirmedEntries(long,long)">readUnconfirmedEntries</a>, <a href="LedgerHandle.html#recordReadErrorOnBookie(int)">recordReadErrorOnBookie</a>, <a href="LedgerHandle.html#registerOperationFailureOnBookie(org.apache.bookkeeper.net.BookieSocketAddress,long)">registerOperationFailureOnBookie</a>, <a href="LedgerHandle.html#sendAddSuccessCallbacks()">sendAddSuccessCallbacks</a>, <a href="LedgerHandle.html#setLastAddConfirmed(long)">setLastAddConfirmed</a>, <a href="LedgerHandle.html#setLedgerMetadata(org.apache.bookkeeper.versioning.Versioned,org.apache.bookkeeper.versioning.Versioned)">setLedgerMetadata</a>, <a href="LedgerHandle.html#tryReadLastAddConfirmedAsync()">tryReadLastAddConfirmedAsync</a>, <a href="LedgerHandle.html#tryReadLastConfirmed()">tryReadLastConfirmed</a>, <a href="LedgerHandle.html#unsetSuccessAndSendWriteRequest(java.util.List,java.util.Set)">unsetSuccessAndSendWriteRequest</a>, <a href="LedgerHandle.html#updateLastConfirmed(long,long)">updateLastConfirmed</a>, <a href="LedgerHandle.html#waitForWritable(org.apache.bookkeeper.client.DistributionSchedule.WriteSet,long,int,long)">waitForWritable</a></code></div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></div>
<div class="inheritedList">
<h3>Methods inherited from interface&nbsp;org.apache.bookkeeper.client.api.<a href="api/ReadHandle.html" title="interface in org.apache.bookkeeper.client.api">ReadHandle</a></h3>
<a id="methods.inherited.from.class.org.apache.bookkeeper.client.api.ReadHandle">
<!--   -->
</a><code><a href="api/ReadHandle.html#read(long,long)">read</a>, <a href="api/ReadHandle.html#readLastAddConfirmed()">readLastAddConfirmed</a>, <a href="api/ReadHandle.html#readLastAddConfirmedAndEntry(long,long,boolean)">readLastAddConfirmedAndEntry</a>, <a href="api/ReadHandle.html#readUnconfirmed(long,long)">readUnconfirmed</a>, <a href="api/ReadHandle.html#tryReadLastAddConfirmed()">tryReadLastAddConfirmed</a></code></div>
<div class="inheritedList">
<h3>Methods inherited from interface&nbsp;org.apache.bookkeeper.client.api.<a href="api/WriteHandle.html" title="interface in org.apache.bookkeeper.client.api">WriteHandle</a></h3>
<a id="methods.inherited.from.class.org.apache.bookkeeper.client.api.WriteHandle">
<!--   -->
</a><code><a href="api/WriteHandle.html#append(byte%5B%5D)">append</a>, <a href="api/WriteHandle.html#append(byte%5B%5D,int,int)">append</a>, <a href="api/WriteHandle.html#append(io.netty.buffer.ByteBuf)">append</a>, <a href="api/WriteHandle.html#append(java.nio.ByteBuffer)">append</a>, <a href="api/WriteHandle.html#appendAsync(byte%5B%5D)">appendAsync</a>, <a href="api/WriteHandle.html#appendAsync(byte%5B%5D,int,int)">appendAsync</a>, <a href="api/WriteHandle.html#appendAsync(java.nio.ByteBuffer)">appendAsync</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
<!--   -->
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(org.apache.bookkeeper.client.ClientContext,long,org.apache.bookkeeper.versioning.Versioned,org.apache.bookkeeper.client.BookKeeper.DigestType,byte[],boolean)">ReadOnlyLedgerHandle</a></h3>
<div class="memberSignature"><span class="memberName">ReadOnlyLedgerHandle</span>&#8203;(<span class="arguments"><a href="ClientContext.html" title="interface in org.apache.bookkeeper.client">ClientContext</a>&nbsp;clientCtx,
long&nbsp;ledgerId,
org.apache.bookkeeper.versioning.Versioned&lt;<a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a>&gt;&nbsp;metadata,
<a href="BookKeeper.DigestType.html" title="enum in org.apache.bookkeeper.client">BookKeeper.DigestType</a>&nbsp;digestType,
byte[]&nbsp;password,
boolean&nbsp;watch)</span>
              throws <span class="exceptions">java.security.GeneralSecurityException,
java.lang.NumberFormatException</span></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.security.GeneralSecurityException</code></dd>
<dd><code>java.lang.NumberFormatException</code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="close()">close</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">close</span>()
           throws <span class="exceptions">java.lang.InterruptedException,
<a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></span></div>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="LedgerHandle.html#close()">LedgerHandle</a></code></span></div>
<div class="block">Synchronous close the write handle, any adds in flight will return errors.

 <p>Closing a ledger will ensure that all clients agree on what the last
 entry of the ledger is. Once the ledger has been closed, all reads from the
 ledger will return the same set of entries.

 <p>The close operation can error if it finds conflicting metadata when it
 tries to write to the metadata store. On close, the metadata state is set to
 closed and lastEntry and length of the ledger are fixed in the metadata. A
 conflict occurs if the metadata in the metadata store has a different value for
 the lastEntry or length. If another process has updated the metadata, setting it
 to closed, but have fixed the lastEntry and length to the same values as this
 process is trying to write, the operation completes successfully.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="api/Handle.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="api/Handle.html" title="interface in org.apache.bookkeeper.client.api">Handle</a></code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="api/WriteHandle.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="api/WriteHandle.html" title="interface in org.apache.bookkeeper.client.api">WriteHandle</a></code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="LedgerHandle.html#close()">close</a></code>&nbsp;in class&nbsp;<code><a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">LedgerHandle</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="api/Handle.html#closeAsync()"><code>Handle.closeAsync()</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asyncClose(org.apache.bookkeeper.client.AsyncCallback.CloseCallback,java.lang.Object)">asyncClose</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">asyncClose</span>&#8203;(<span class="arguments"><a href="AsyncCallback.CloseCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.CloseCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</span></div>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="LedgerHandle.html#asyncClose(org.apache.bookkeeper.client.AsyncCallback.CloseCallback,java.lang.Object)">LedgerHandle</a></code></span></div>
<div class="block">Asynchronous close, any adds in flight will return errors.

 <p>Closing a ledger will ensure that all clients agree on what the last entry
 of the ledger is. This ensures that, once the ledger has been closed, all
 reads from the ledger will return the same set of entries.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="LedgerHandle.html#asyncClose(org.apache.bookkeeper.client.AsyncCallback.CloseCallback,java.lang.Object)">asyncClose</a></code>&nbsp;in class&nbsp;<code><a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">LedgerHandle</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cb</code> - callback implementation</dd>
<dd><code>ctx</code> - control object</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="addEntry(byte[])">addEntry</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">addEntry</span>&#8203;(<span class="arguments">byte[]&nbsp;data)</span>
              throws <span class="exceptions">java.lang.InterruptedException,
<a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></span></div>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="LedgerHandle.html#addEntry(byte%5B%5D)">LedgerHandle</a></code></span></div>
<div class="block">Add entry synchronously to an open ledger.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="LedgerHandle.html#addEntry(byte%5B%5D)">addEntry</a></code>&nbsp;in class&nbsp;<code><a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">LedgerHandle</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - array of bytes to be written to the ledger
         do not reuse the buffer, bk-client will release it appropriately</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the entryId of the new inserted entry</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="addEntry(byte[],int,int)">addEntry</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">long</span>&nbsp;<span class="memberName">addEntry</span>&#8203;(<span class="arguments">byte[]&nbsp;data,
int&nbsp;offset,
int&nbsp;length)</span>
              throws <span class="exceptions">java.lang.InterruptedException,
<a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></span></div>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="LedgerHandle.html#addEntry(byte%5B%5D,int,int)">LedgerHandle</a></code></span></div>
<div class="block">Add entry synchronously to an open ledger.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="LedgerHandle.html#addEntry(byte%5B%5D,int,int)">addEntry</a></code>&nbsp;in class&nbsp;<code><a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">LedgerHandle</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - array of bytes to be written to the ledger
         do not reuse the buffer, bk-client will release it appropriately</dd>
<dd><code>offset</code> - offset from which to take bytes from data</dd>
<dd><code>length</code> - number of bytes to take from data</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the entryId of the new inserted entry</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asyncAddEntry(byte[],org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">asyncAddEntry</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">asyncAddEntry</span>&#8203;(<span class="arguments">byte[]&nbsp;data,
<a href="AsyncCallback.AddCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.AddCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</span></div>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="LedgerHandle.html#asyncAddEntry(byte%5B%5D,org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">LedgerHandle</a></code></span></div>
<div class="block">Add entry asynchronously to an open ledger.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="LedgerHandle.html#asyncAddEntry(byte%5B%5D,org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">asyncAddEntry</a></code>&nbsp;in class&nbsp;<code><a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">LedgerHandle</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - array of bytes to be written
          do not reuse the buffer, bk-client will release it appropriately</dd>
<dd><code>cb</code> - object implementing callbackinterface</dd>
<dd><code>ctx</code> - some control object</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asyncAddEntry(byte[],int,int,org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">asyncAddEntry</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">asyncAddEntry</span>&#8203;(<span class="arguments">byte[]&nbsp;data,
int&nbsp;offset,
int&nbsp;length,
<a href="AsyncCallback.AddCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.AddCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</span></div>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="LedgerHandle.html#asyncAddEntry(byte%5B%5D,int,int,org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">LedgerHandle</a></code></span></div>
<div class="block">Add entry asynchronously to an open ledger, using an offset and range.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="LedgerHandle.html#asyncAddEntry(byte%5B%5D,int,int,org.apache.bookkeeper.client.AsyncCallback.AddCallback,java.lang.Object)">asyncAddEntry</a></code>&nbsp;in class&nbsp;<code><a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">LedgerHandle</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - array of bytes to be written
          do not reuse the buffer, bk-client will release it appropriately</dd>
<dd><code>offset</code> - offset from which to take bytes from data</dd>
<dd><code>length</code> - number of bytes to take from data</dd>
<dd><code>cb</code> - object implementing callbackinterface</dd>
<dd><code>ctx</code> - some control object</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="onChanged(long,org.apache.bookkeeper.versioning.Versioned)">onChanged</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">onChanged</span>&#8203;(<span class="arguments">long&nbsp;lid,
org.apache.bookkeeper.versioning.Versioned&lt;<a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a>&gt;&nbsp;newMetadata)</span></div>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code>org.apache.bookkeeper.proto.BookkeeperInternalCallbacks.LedgerMetadataListener</code></span></div>
<div class="block">Triggered each time ledger metadata changed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>onChanged</code>&nbsp;in interface&nbsp;<code>org.apache.bookkeeper.proto.BookkeeperInternalCallbacks.LedgerMetadataListener</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lid</code> - ledger id.</dd>
<dd><code>newMetadata</code> - new ledger metadata.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="toString()">toString</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">toString</span>()</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="initializeWriteHandleState()">initializeWriteHandleState</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">initializeWriteHandleState</span>()</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="LedgerHandle.html#initializeWriteHandleState()">initializeWriteHandleState</a></code>&nbsp;in class&nbsp;<code><a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">LedgerHandle</a></code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asyncReadLastEntry(org.apache.bookkeeper.client.AsyncCallback.ReadCallback,java.lang.Object)">asyncReadLastEntry</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">asyncReadLastEntry</span>&#8203;(<span class="arguments"><a href="AsyncCallback.ReadCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.ReadCallback</a>&nbsp;cb,
java.lang.Object&nbsp;ctx)</span></div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="LedgerHandle.html#asyncReadLastEntry(org.apache.bookkeeper.client.AsyncCallback.ReadCallback,java.lang.Object)">asyncReadLastEntry</a></code>&nbsp;in class&nbsp;<code><a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">LedgerHandle</a></code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="handleBookieFailure(java.util.Map)">handleBookieFailure</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">handleBookieFailure</span>&#8203;(<span class="arguments">java.util.Map&lt;java.lang.Integer,&#8203;org.apache.bookkeeper.net.BookieSocketAddress&gt;&nbsp;failedBookies)</span></div>
<div class="block">For a read only ledger handle, this method will only ever be called during recovery,
 when we are reading forward from LAC and writing back those entries. As such,
 unlike with LedgerHandle, we do not want to persist changes to the metadata as they occur,
 but rather, we want to defer the persistence until recovery has completed, and do it all
 on the close.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="LedgerHandle.html#handleBookieFailure(java.util.Map)">handleBookieFailure</a></code>&nbsp;in class&nbsp;<code><a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">LedgerHandle</a></code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="handleUnrecoverableErrorDuringAdd(int)">handleUnrecoverableErrorDuringAdd</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">handleUnrecoverableErrorDuringAdd</span>&#8203;(<span class="arguments">int&nbsp;rc)</span></div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="LedgerHandle.html#handleUnrecoverableErrorDuringAdd(int)">handleUnrecoverableErrorDuringAdd</a></code>&nbsp;in class&nbsp;<code><a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">LedgerHandle</a></code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="recover(org.apache.bookkeeper.proto.BookkeeperInternalCallbacks.GenericCallback)">recover</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">recover</span>&#8203;(<span class="arguments">org.apache.bookkeeper.proto.BookkeeperInternalCallbacks.GenericCallback&lt;java.lang.Void&gt;&nbsp;finalCb)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="recover(org.apache.bookkeeper.proto.BookkeeperInternalCallbacks.GenericCallback,org.apache.bookkeeper.proto.BookkeeperInternalCallbacks.ReadEntryListener,boolean)">recover</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">recover</span>&#8203;(<span class="arguments">org.apache.bookkeeper.proto.BookkeeperInternalCallbacks.GenericCallback&lt;java.lang.Void&gt;&nbsp;finalCb,
org.apache.bookkeeper.proto.BookkeeperInternalCallbacks.ReadEntryListener&nbsp;listener,
boolean&nbsp;forceRecovery)</span></div>
<div class="block">Recover the ledger.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>finalCb</code> - callback after recovery is done.</dd>
<dd><code>listener</code> - read entry listener on recovery reads.</dd>
<dd><code>forceRecovery</code> - force the recovery procedure even the ledger metadata shows the ledger is closed.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="closeRecovered()">closeRecovered</a></h3>
<div class="memberSignature"><span class="returnType">java.util.concurrent.CompletableFuture&lt;org.apache.bookkeeper.versioning.Versioned&lt;<a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a>&gt;&gt;</span>&nbsp;<span class="memberName">closeRecovered</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getCurrentEnsemble()">getCurrentEnsemble</a></h3>
<div class="memberSignature"><span class="returnType">java.util.List&lt;org.apache.bookkeeper.net.BookieSocketAddress&gt;</span>&nbsp;<span class="memberName">getCurrentEnsemble</span>()</div>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="LedgerHandle.html#getCurrentEnsemble()">LedgerHandle</a></code></span></div>
<div class="block">Get the current ensemble from the ensemble list. The current ensemble
 is the last ensemble in the list. The ledger handle uses this ensemble when
 triggering operations which work on the end of the ledger, such as adding new
 entries or reading the last add confirmed.

 <p>This method is also used by ReadOnlyLedgerHandle during recovery, and when
 tailing a ledger.

 <p>Generally, this method should only be called by LedgerHandle and not by the
 operations themselves, to avoid adding more dependencies between the classes.
 There are too many already.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="LedgerHandle.html#getCurrentEnsemble()">getCurrentEnsemble</a></code>&nbsp;in class&nbsp;<code><a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">LedgerHandle</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ReadOnlyLedgerHandle.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2011&#x2013;2020 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
